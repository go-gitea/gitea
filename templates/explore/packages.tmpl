{{template "base/head" .}}
<div role="main" aria-label="{{.Title}}" class="page-content explore packages">
	{{template "explore/navbar" .}}
	<div class="ui container">
		{{template "base/alert" .}}
		<form class="ui form ignore-dirty">
			<div class="ui small fluid action input">
				{{template "shared/search/input" dict "Value" .Query "Placeholder" (ctx.Locale.Tr "search.package_kind")}}
				<select class="ui small dropdown" name="type">
					<option value="">{{ctx.Locale.Tr "packages.filter.type"}}</option>
					<option value="all">{{ctx.Locale.Tr "packages.filter.type.all"}}</option>
					{{range $type := .AvailableTypes}}
					<option{{if eq $.PackageType $type}} selected="selected"{{end}} value="{{$type}}">{{$type.Name}}</option>
					{{end}}
				</select>
				{{template "shared/search/button"}}
			</div>
		</form>
		<div>
			{{range .PackageDescriptors}}
			<div class="flex-list">
				<div class="flex-item">
					<div class="flex-item-main">
						<div class="flex-item-title">
							<a href="{{.VersionWebLink}}">{{.Package.Name}}</a>
							<span class="ui label">{{svg .Package.Type.SVGName 16}} {{.Package.Type.Name}}</span>
						</div>
						<div class="flex-item-body">
							{{$timeStr := DateUtils.TimeSince .Version.CreatedUnix}}
							{{ctx.Locale.Tr "packages.published_by" $timeStr .Creator.HomeLink .Creator.GetDisplayName}}
						</div>
					</div>
				</div>
			</div>
			{{else}}
			{{if eq .Total 0}}
				<div class="empty-placeholder">
					{{svg "octicon-package" 48}}
					<h2>{{ctx.Locale.Tr "packages.empty"}}</h2>
					<p>{{ctx.Locale.Tr "packages.empty.documentation" "https://docs.gitea.com/usage/packages/overview/"}}</p>
				</div>
			{{else}}
				<p class="tw-py-4">{{ctx.Locale.Tr "packages.filter.no_result"}}</p>
			{{end}}
			{{end}}
			{{template "base/paginate" .}}
		</div>
	</div>
</div>
{{template "base/footer" .}}
