{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./web_src/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","htmlEncode","text","jQuery","html","csrf","suburl","previewFileModes","simpleMDEditor","codeMirrorEditor","initCommentPreviewTab","$form","$tabMenu","find","tab","data","click","$this","$","this","post","val","$previewPanel","emojify","run","each","hljs","highlightBlock","buttonsClickOnEnter","initEditForm","length","$previewTab","split","initEditPreviewTab","$diffPreviewPanel","initEditDiffTab","updateIssuesMeta","url","action","issueIds","elementId","Promise","resolve","ajax","type","success","reload","window","location","initImagePaste","target","field","addEventListener","event","pasteEvent","callback","clipboardData","items","indexOf","blob","getAsFile","preventDefault","stopPropagation","retrieveImageFromClipboardAsBlob","img","substr","lastIndexOf","selectionStart","startPos","endPos","selectionEnd","substring","insertAtCursor","file","xhr","XMLHttpRequest","onload","status","responseText","open","setRequestHeader","formData","FormData","append","send","uploadFile","res","JSON","parse","oldval","newval","replace","replaceAndKeepCursor","uuid","input","initCommentForm","initListSubmits","selector","outerSelector","$list","$noSelect","$listMenu","hasLabelUpdateAction","labels","dropdown","promises","keys","forEach","label","promise","push","all","then","hasClass","removeClass","addClass","listIds","parent","join","selectItem","select_id","input_id","$menu","hasUpdateAction","$selectBranch","selectedValue","css","initBranchSelector","initRepository","initFilterSearchDropdown","$dropdown","fullTextSearch","selectOnKeydown","onChange","_text","_value","$choice","href","message","noResults","$data","searchTerm","canCreateBranch","menuVisible","active","branch","tag","selected","remove","Vue","delimiters","el","beforeMount","vm","$el","getAttribute","document","body","contains","set","watch","visible","focusSearchField","computed","filteredItems","filter","item","toLowerCase","showCreateNewBranch","showNoResults","methods","prev","getSelected","createNewBranch","$refs","newBranchForm","submit","nextTick","searchField","focus","j","getSelectedIndexInFiltered","scrollToActive","Array","isArray","cont","scrollContainer","offsetTop","scrollTop","clientHeight","keydown","keyCode","keyup","$prompt","toString","show","hide","change","checked","$newLabelPanel","minicolors","color_hex","modal","onApprove","$datepicker","datetimepicker","lang","inline","timepicker","startDate","formatDate","onSelectDate","ct","dateFormat","$issueTitle","$editInput","editTitleToggle","toggle","title","$segment","next","$editContentZone","$renderContent","$rawContent","$textarea","issuesTribute","attach","emojiTribute","$dropzone","$files","filenameDict","dropzone","headers","maxFiles","maxFilesize","acceptedFiles","addRemoveLinks","dictDefaultMessage","dictInvalidFileType","dictFileTooBig","dictRemoveFile","init","on","submitted","_csrf","getJSON","drop","removeAllFiles","empty","imgSrc","emit","files","$editContentForm","attr","$attachments","map","content","$content","attachments","confirm","$statusButton","$mergeButton","e","closest","initReactionSelector","reactions","popup","done","resp","react","insertBefore","appendTo","hasEmoji","$item","addLine","delLine","addPercent","parseFloat","localStorage","setItem","select","$repoComparePull","assingMenuAttributes","menu","id","Math","floor","random","initRepositoryCollaboration","initEditor","prop","$editFilename","$section","$divider","parts","getCursorPosition","last","setSelectionRange","element","trigger","$editArea","markdownFileExts","lineWrapExtensions","spec","extension","extWithDot","dataUrl","apiCall","exec","info","CodeMirror","findModeByExtension","previewLink","mime","toTextArea","SimpleMDE","autoDownloadFontAwesome","forceSync","renderingConfig","singleLineBreaks","indentWithTabs","tabSize","spellChecker","previewRender","plainText","preview","setTimeout","innerHTML","toolbar","setSimpleMDE","fromTextArea","lineNumbers","cm","_change","getValue","setCodeMirror","setOption","autoLoadMode","editorconfig","indent_style","Tab","spaces","parseInt","getOption","replaceSelection","indent_size","tab_width","$commitButton","$editForm","areYouSure","silent","dirtyClass","fieldSelector","dirty","initUserSettings","keypress","initCodeView","$select","siblings","selectRange","shiftKey","eq","getSelection","removeAllRanges","selection","hash","match","$first","offset","top","u2fSigned","stringify","contentType","fail","u2fError","u2fRegistered","errorCode","checkError","errorType","u2fErrors","1","2","3","4","5","u2fRegisterRequest","req","registeredKeys","u2fApi","register","appId","registerRequests","catch","reason","undefined","metaData","code","changeHash","history","pushState","$from","a","b","classes","showDeletePopup","dialog","closable","redirect","showAddAllPopup","Dropzone","autoDiscover","from","toStr","isCallable","fn","maxSafeInteger","pow","toLength","len","number","Number","isNaN","isFinite","abs","toInteger","min","max","arrayLike","C","TypeError","mapFn","arguments","T","A","kValue","k","assign","_varArgs","to","index","nextSource","nextKey","writable","configurable","String","endsWith","pattern","pos","Sel","createRange","SelLength","moveStart","ready","onShow","transition","direction","accordion","checkbox","progress","showActivity","slideToggle","nodes","slice","querySelectorAll","setConfig","img_dir","ignore_emoticons","getElementsByClassName","childNodes","nodeName","clipboard","Clipboard","clearSelection","setAttribute","node","encodeURIComponent","wrap","children","dataset","issueIDs","issueId","_","first","search","minCharacters","apiSettings","onResponse","response","_i","login","full_name","image","avatar_url","results","searchFields","$searchTeamBox","permission","searchTeams","$searchRepoBox","description","searchRepositories","dbType","dbDefaults","_type","defaultHost","is","toggleMigrations","authUserName","cloneAddr","startsWith","initMigration","simplemde","codemirror","cursorPos","getCursor","setCursor","line","ch","className","getInputField","initWikiForm","updateContentType","initWebhook","removeAttr","authType","onOAuth2Change","onSecurityProtocolChange","onUsePagedSearchChange","onOAuth2UseCustomURLChange","$detailModal","$checkboxes","ids","provider","initAdmin","getElementById","component","props","searchLimit","default","required","uid","organizations","isOrganization","Boolean","canCreateOrganization","organizationsTotalCount","moreReposLink","repos","reposTotalCount","reposFilter","searchQuery","isLoading","repoTypes","count","searchMode","showMoreReposLink","searchURL","repoTypeCount","mounted","searchRepos","self","changeTab","changeReposFilter","showRepo","repo","owner","mirror","fork","searchedMode","searchedURL","searchedQuery","result","_textStatus","request","getResponseHeader","always","repoClass","private","querySelector","initVueApp","ctrlKey","altKey","metaKey","isExpanded","initNavbarContentToggle","mgrBtn","editDiv","viewDiv","saveBtn","topicDropdown","topicForm","topicPrompts","hidePrompt","prompts","countPrompt","formatPrompt","getPrompts","topics","_data","responseJSON","topicArray","invalidTopics","topicLables","form","allowAdditions","forceSelection","fields","saveRemoteData","duration","variation","blue","basic","throttle","cache","formattedResponse","query","urlData","trim","found_query","current_topics","found","topic_name","unshift","sort","onLabelCreate","contents","replaceWith","onAdd","addedValue","_addedText","$addedChoice","settings","rules","validateTopic","_values","regExp","identifier","prompt","initTopicbar","ensureSupport","sign","challenge","err","allowMultiple","repolink","repoId","crossRepoSearch","issueSearchUrl","filteredResponse","currIssueId","issue","repository","regStr","newStr","RegExp","selectedItems","initIssueList","toUpperCase","wipPrefixes","sticky","isSplit","side","idx","path","tr","ntr","after","td","commentCloud","initRepoStatusChecker","migrating","repo_name","complete","$repoTemplate","checkTemplate","$templateUnits","$nonTemplate","changeOwner","_r","initTemplateSearch","getItem","routes","$cloneAddr","$repoName","arrays","$title"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* globals wipPrefixes, issuesTribute, emojiTribute */\n/* exported timeAddManual, toggleStopwatch, cancelStopwatch, initHeatmap */\n/* exported toggleDeadlineForm, setDeadline, deleteDependencyModal, cancelCodeComment, onOAuthLoginClick */\n'use strict';\n\nfunction htmlEncode(text) {\n   return jQuery('<div />').text(text).html()\n}\n\nlet csrf;\nlet suburl;\nlet previewFileModes;\nlet simpleMDEditor;\nlet codeMirrorEditor;\n\n// Disable Dropzone auto-discover because it's manually initialized\nif (typeof(Dropzone) !== \"undefined\") {\n    Dropzone.autoDiscover = false;\n}\n\n// Polyfill for IE9+ support (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from)\nif (!Array.from) {\n    Array.from = (function () {\n        const toStr = Object.prototype.toString;\n        const isCallable = function (fn) {\n            return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\n        };\n        const toInteger = function (value) {\n            const number = Number(value);\n            if (isNaN(number)) { return 0; }\n            if (number === 0 || !isFinite(number)) { return number; }\n            return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n        };\n        const maxSafeInteger = Math.pow(2, 53) - 1;\n        const toLength = function (value) {\n            const len = toInteger(value);\n            return Math.min(Math.max(len, 0), maxSafeInteger);\n        };\n\n        // The length property of the from method is 1.\n        return function from(arrayLike/*, mapFn, thisArg */) {\n            // 1. Let C be the this value.\n            const C = this;\n\n            // 2. Let items be ToObject(arrayLike).\n            const items = Object(arrayLike);\n\n            // 3. ReturnIfAbrupt(items).\n            if (arrayLike == null) {\n                throw new TypeError(\"Array.from requires an array-like object - not null or undefined\");\n            }\n\n            // 4. If mapfn is undefined, then let mapping be false.\n            const mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n            let T;\n            if (typeof mapFn !== 'undefined') {\n                // 5. else\n                // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n                if (!isCallable(mapFn)) {\n                    throw new TypeError('Array.from: when provided, the second argument must be a function');\n                }\n\n                // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n                if (arguments.length > 2) {\n                    T = arguments[2];\n                }\n            }\n\n            // 10. Let lenValue be Get(items, \"length\").\n            // 11. Let len be ToLength(lenValue).\n            const len = toLength(items.length);\n\n            // 13. If IsConstructor(C) is true, then\n            // 13. a. Let A be the result of calling the [[Construct]] internal method of C with an argument list containing the single item len.\n            // 14. a. Else, Let A be ArrayCreate(len).\n            const A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n            // 16. Let k be 0.\n            let k = 0;\n            // 17. Repeat, while k < len (also steps a - h)\n            let kValue;\n            while (k < len) {\n                kValue = items[k];\n                if (mapFn) {\n                    A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\n                } else {\n                    A[k] = kValue;\n                }\n                k += 1;\n            }\n            // 18. Let putStatus be Put(A, \"length\", len, true).\n            A.length = len;\n            // 20. Return A.\n            return A;\n        };\n    }());\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\nif (typeof Object.assign != 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, \"assign\", {\n        value: function assign(target, _varArgs) { // .length of function is 2\n            'use strict';\n            if (target == null) { // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            const to = Object(target);\n\n            for (let index = 1; index < arguments.length; index++) {\n                const nextSource = arguments[index];\n\n                if (nextSource != null) { // Skip over if undefined or null\n                    for (const nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        },\n        writable: true,\n        configurable: true\n    });\n}\n\nfunction initCommentPreviewTab($form) {\n    const $tabMenu = $form.find('.tabular.menu');\n    $tabMenu.find('.item').tab();\n    $tabMenu.find('.item[data-tab=\"' + $tabMenu.data('preview') + '\"]').click(function () {\n        const $this = $(this);\n        $.post($this.data('url'), {\n                \"_csrf\": csrf,\n                \"mode\": \"gfm\",\n                \"context\": $this.data('context'),\n                \"text\": $form.find('.tab.segment[data-tab=\"' + $tabMenu.data('write') + '\"] textarea').val()\n            },\n            function (data) {\n                const $previewPanel = $form.find('.tab.segment[data-tab=\"' + $tabMenu.data('preview') + '\"]');\n                $previewPanel.html(data);\n                emojify.run($previewPanel[0]);\n                $('pre code', $previewPanel[0]).each(function () {\n                    hljs.highlightBlock(this);\n                });\n            }\n        );\n    });\n\n    buttonsClickOnEnter();\n}\n\nfunction initEditPreviewTab($form) {\n    const $tabMenu = $form.find('.tabular.menu');\n    $tabMenu.find('.item').tab();\n    const $previewTab = $tabMenu.find('.item[data-tab=\"' + $tabMenu.data('preview') + '\"]');\n    if ($previewTab.length) {\n        previewFileModes = $previewTab.data('preview-file-modes').split(',');\n        $previewTab.click(function () {\n            const $this = $(this);\n            $.post($this.data('url'), {\n                    \"_csrf\": csrf,\n                    \"mode\": \"gfm\",\n                    \"context\": $this.data('context'),\n                    \"text\": $form.find('.tab.segment[data-tab=\"' + $tabMenu.data('write') + '\"] textarea').val()\n                },\n                function (data) {\n                    const $previewPanel = $form.find('.tab.segment[data-tab=\"' + $tabMenu.data('preview') + '\"]');\n                    $previewPanel.html(data);\n                    emojify.run($previewPanel[0]);\n                    $('pre code', $previewPanel[0]).each(function () {\n                        hljs.highlightBlock(this);\n                    });\n                }\n            );\n        });\n    }\n}\n\nfunction initEditDiffTab($form) {\n    const $tabMenu = $form.find('.tabular.menu');\n    $tabMenu.find('.item').tab();\n    $tabMenu.find('.item[data-tab=\"' + $tabMenu.data('diff') + '\"]').click(function () {\n        const $this = $(this);\n        $.post($this.data('url'), {\n                \"_csrf\": csrf,\n                \"context\": $this.data('context'),\n                \"content\": $form.find('.tab.segment[data-tab=\"' + $tabMenu.data('write') + '\"] textarea').val()\n            },\n            function (data) {\n                const $diffPreviewPanel = $form.find('.tab.segment[data-tab=\"' + $tabMenu.data('diff') + '\"]');\n                $diffPreviewPanel.html(data);\n                emojify.run($diffPreviewPanel[0]);\n            }\n        );\n    });\n}\n\n\nfunction initEditForm() {\n    if ($('.edit.form').length == 0) {\n        return;\n    }\n\n    initEditPreviewTab($('.edit.form'));\n    initEditDiffTab($('.edit.form'));\n}\n\nfunction initBranchSelector() {\n    const $selectBranch = $('.ui.select-branch')\n    const $branchMenu = $selectBranch.find('.reference-list-menu');\n    $branchMenu.find('.item:not(.no-select)').click(function () {\n        const selectedValue = $(this).data('id');\n        $($(this).data('id-selector')).val(selectedValue);\n        $selectBranch.find('.ui .branch-name').text(selectedValue);\n    });\n    $selectBranch.find('.reference.column').click(function () {\n        $selectBranch.find('.scrolling.reference-list-menu').css('display', 'none');\n        $selectBranch.find('.reference .text').removeClass('black');\n        $($(this).data('target')).css('display', 'block');\n        $(this).find('.text').addClass('black');\n        return false;\n    });\n}\n\nfunction updateIssuesMeta(url, action, issueIds, elementId) {\n    return new Promise(function(resolve) {\n        $.ajax({\n            type: \"POST\",\n            url: url,\n            data: {\n                \"_csrf\": csrf,\n                \"action\": action,\n                \"issue_ids\": issueIds,\n                \"id\": elementId\n            },\n            success: resolve\n        })\n    })\n}\n\nfunction initRepoStatusChecker() {\n    const migrating = $(\"#repo_migrating\");\n    $('#repo_migrating_failed').hide();\n    if (migrating) {\n        const repo_name = migrating.attr('repo');\n        if (typeof repo_name === 'undefined') {\n            return\n        }\n        $.ajax({\n            type: \"GET\",\n            url: suburl +\"/\"+repo_name+\"/status\",\n            data: {\n                \"_csrf\": csrf,\n            },\n            complete: function(xhr) {\n                if (xhr.status == 200) {\n                    if (xhr.responseJSON) {\n                        if (xhr.responseJSON[\"status\"] == 0) {\n                            location.reload();\n                            return\n                        }\n\n                        setTimeout(function () {\n                            initRepoStatusChecker()\n                        }, 2000);\n                        return\n                    }\n                }\n                $('#repo_migrating_progress').hide();\n                $('#repo_migrating_failed').show();\n            }\n        })\n    }\n}\n\nfunction initReactionSelector(parent) {\n    let reactions = '';\n    if (!parent) {\n        parent = $(document);\n        reactions = '.reactions > ';\n    }\n\n    parent.find(reactions + 'a.label').popup({'position': 'bottom left', 'metadata': {'content': 'title', 'title': 'none'}});\n\n    parent.find('.select-reaction > .menu > .item, ' + reactions + 'a.label').on('click', function(e){\n        const vm = this;\n        e.preventDefault();\n\n        if ($(this).hasClass('disabled')) return;\n\n        const actionURL = $(this).hasClass('item') ?\n                $(this).closest('.select-reaction').data('action-url') :\n                $(this).data('action-url');\n        const url = actionURL + '/' + ($(this).hasClass('blue') ? 'unreact' : 'react');\n        $.ajax({\n            type: 'POST',\n            url: url,\n            data: {\n                '_csrf': csrf,\n                'content': $(this).data('content')\n            }\n        }).done(function(resp) {\n            if (resp && (resp.html || resp.empty)) {\n                const content = $(vm).closest('.content');\n                let react = content.find('.segment.reactions');\n                if (!resp.empty && react.length > 0) {\n                    react.remove();\n                }\n                if (!resp.empty) {\n                    react = $('<div class=\"ui attached segment reactions\"></div>');\n                    const attachments = content.find('.segment.bottom:first');\n                    if (attachments.length > 0) {\n                        react.insertBefore(attachments);\n                    } else {\n                        react.appendTo(content);\n                    }\n                    react.html(resp.html);\n                    const hasEmoji = react.find('.has-emoji');\n                    for (let i = 0; i < hasEmoji.length; i++) {\n                        emojify.run(hasEmoji.get(i));\n                    }\n                    react.find('.dropdown').dropdown();\n                    initReactionSelector(react);\n                }\n            }\n        });\n    });\n}\n\nfunction insertAtCursor(field, value) {\n    if (field.selectionStart || field.selectionStart === 0) {\n        const startPos = field.selectionStart;\n        const endPos = field.selectionEnd;\n        field.value = field.value.substring(0, startPos)\n            + value\n            + field.value.substring(endPos, field.value.length);\n        field.selectionStart = startPos + value.length;\n        field.selectionEnd = startPos + value.length;\n    } else {\n        field.value += value;\n    }\n}\n\nfunction replaceAndKeepCursor(field, oldval, newval) {\n    if (field.selectionStart || field.selectionStart === 0) {\n        const startPos = field.selectionStart;\n        const endPos = field.selectionEnd;\n        field.value = field.value.replace(oldval, newval);\n        field.selectionStart = startPos + newval.length - oldval.length;\n        field.selectionEnd = endPos + newval.length - oldval.length;\n    } else {\n        field.value = field.value.replace(oldval, newval);\n    }\n}\n\nfunction retrieveImageFromClipboardAsBlob(pasteEvent, callback){\n    if (!pasteEvent.clipboardData) {\n        return;\n    }\n\n    const items = pasteEvent.clipboardData.items;\n    if (typeof(items) === \"undefined\") {\n        return;\n    }\n\n    for (let i = 0; i < items.length; i++) {\n        if (items[i].type.indexOf(\"image\") === -1) continue;\n        const blob = items[i].getAsFile();\n\n        if (typeof(callback) === \"function\") {\n            pasteEvent.preventDefault();\n            pasteEvent.stopPropagation();\n            callback(blob);\n        }\n    }\n}\n\nfunction uploadFile(file, callback) {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onload = function() {\n        if (xhr.status == 200) {\n            callback(xhr.responseText);\n        }\n    };\n\n    xhr.open(\"post\", suburl + \"/attachments\", true);\n    xhr.setRequestHeader(\"X-Csrf-Token\", csrf);\n    const formData = new FormData();\n    formData.append('file', file, file.name);\n    xhr.send(formData);\n}\n\nfunction reload() {\n    window.location.reload();\n}\n\nfunction initImagePaste(target) {\n    target.each(function() {\n        const field = this;\n        field.addEventListener('paste', function(event){\n            retrieveImageFromClipboardAsBlob(event, function(img) {\n                const name = img.name.substr(0, img.name.lastIndexOf('.'));\n                insertAtCursor(field, '![' + name + ']()');\n                uploadFile(img, function(res) {\n                    const data = JSON.parse(res);\n                    replaceAndKeepCursor(field, '![' + name + ']()', '![' + name + '](' + suburl + '/attachments/' + data.uuid + ')');\n                    const input = $('<input id=\"' + data.uuid + '\" name=\"files\" type=\"hidden\">').val(data.uuid);\n                    $('.files').append(input);\n                });\n            });\n        }, false);\n    });\n}\n\nfunction initCommentForm() {\n    if ($('.comment.form').length == 0) {\n        return\n    }\n\n    initBranchSelector();\n    initCommentPreviewTab($('.comment.form'));\n    initImagePaste($('.comment.form textarea'));\n\n    // Listsubmit\n    function initListSubmits(selector, outerSelector) {\n        const $list = $('.ui.' + outerSelector + '.list');\n        const $noSelect = $list.find('.no-select');\n        const $listMenu = $('.' + selector + ' .menu');\n        let hasLabelUpdateAction = $listMenu.data('action') == 'update';\n        const labels = {};\n\n        $('.' + selector).dropdown('setting', 'onHide', function(){\n            hasLabelUpdateAction = $listMenu.data('action') == 'update'; // Update the var\n            if (hasLabelUpdateAction) {\n                const promises = [];\n                Object.keys(labels).forEach(function(elementId) {\n                    const label = labels[elementId];\n                    const promise = updateIssuesMeta(\n                        label[\"update-url\"],\n                        label[\"action\"],\n                        label[\"issue-id\"],\n                        elementId\n                    );\n                    promises.push(promise);\n                });\n                Promise.all(promises).then(reload);\n            }\n        });\n\n        $listMenu.find('.item:not(.no-select)').click(function () {\n\n            // we don't need the action attribute when updating assignees\n            if (selector == 'select-assignees-modify') {\n\n                // UI magic. We need to do this here, otherwise it would destroy the functionality of\n                // adding/removing labels\n                if ($(this).hasClass('checked')) {\n                    $(this).removeClass('checked');\n                    $(this).find('.octicon').removeClass('octicon-check');\n                } else {\n                    $(this).addClass('checked');\n                    $(this).find('.octicon').addClass('octicon-check');\n                }\n\n                updateIssuesMeta(\n                    $listMenu.data('update-url'),\n                    \"\",\n                    $listMenu.data('issue-id'),\n                    $(this).data('id')\n                );\n                $listMenu.data('action', 'update'); // Update to reload the page when we updated items\n                return false;\n            }\n\n            if ($(this).hasClass('checked')) {\n                $(this).removeClass('checked');\n                $(this).find('.octicon').removeClass('octicon-check');\n                if (hasLabelUpdateAction) {\n                    if (!($(this).data('id') in labels)) {\n                        labels[$(this).data('id')] = {\n                            \"update-url\": $listMenu.data('update-url'),\n                            \"action\": \"detach\",\n                            \"issue-id\": $listMenu.data('issue-id'),\n                        };\n                    } else {\n                        delete labels[$(this).data('id')];\n                    }\n                }\n            } else {\n                $(this).addClass('checked');\n                $(this).find('.octicon').addClass('octicon-check');\n                if (hasLabelUpdateAction) {\n                    if (!($(this).data('id') in labels)) {\n                        labels[$(this).data('id')] = {\n                            \"update-url\": $listMenu.data('update-url'),\n                            \"action\": \"attach\",\n                            \"issue-id\": $listMenu.data('issue-id'),\n                        };\n                    } else {\n                        delete labels[$(this).data('id')];\n                    }\n                }\n            }\n\n            const listIds = [];\n            $(this).parent().find('.item').each(function () {\n                if ($(this).hasClass('checked')) {\n                    listIds.push($(this).data('id'));\n                    $($(this).data('id-selector')).removeClass('hide');\n                } else {\n                    $($(this).data('id-selector')).addClass('hide');\n                }\n            });\n            if (listIds.length == 0) {\n                $noSelect.removeClass('hide');\n            } else {\n                $noSelect.addClass('hide');\n            }\n            $($(this).parent().data('id')).val(listIds.join(\",\"));\n            return false;\n        });\n        $listMenu.find('.no-select.item').click(function () {\n            if (hasLabelUpdateAction || selector == 'select-assignees-modify') {\n                updateIssuesMeta(\n                    $listMenu.data('update-url'),\n                    \"clear\",\n                    $listMenu.data('issue-id'),\n                    \"\"\n                ).then(reload);\n            }\n\n            $(this).parent().find('.item').each(function () {\n                $(this).removeClass('checked');\n                $(this).find('.octicon').removeClass('octicon-check');\n            });\n\n            $list.find('.item').each(function () {\n                $(this).addClass('hide');\n            });\n            $noSelect.removeClass('hide');\n            $($(this).parent().data('id')).val('');\n\n        });\n    }\n\n    // Init labels and assignees\n    initListSubmits('select-label', 'labels');\n    initListSubmits('select-assignees', 'assignees');\n    initListSubmits('select-assignees-modify', 'assignees');\n\n    function selectItem(select_id, input_id) {\n        const $menu = $(select_id + ' .menu');\n        const $list = $('.ui' + select_id + '.list');\n        const hasUpdateAction = $menu.data('action') == 'update';\n\n        $menu.find('.item:not(.no-select)').click(function () {\n            $(this).parent().find('.item').each(function () {\n                $(this).removeClass('selected active')\n            });\n\n            $(this).addClass('selected active');\n            if (hasUpdateAction) {\n                updateIssuesMeta(\n                    $menu.data('update-url'),\n                    \"\",\n                    $menu.data('issue-id'),\n                    $(this).data('id')\n                ).then(reload);\n            }\n            switch (input_id) {\n                case '#milestone_id':\n                    $list.find('.selected').html('<a class=\"item\" href=' + $(this).data('href') + '>' +\n                        htmlEncode($(this).text()) + '</a>');\n                    break;\n                case '#assignee_id':\n                    $list.find('.selected').html('<a class=\"item\" href=' + $(this).data('href') + '>' +\n                        '<img class=\"ui avatar image\" src=' + $(this).data('avatar') + '>' +\n                        htmlEncode($(this).text()) + '</a>');\n            }\n            $('.ui' + select_id + '.list .no-select').addClass('hide');\n            $(input_id).val($(this).data('id'));\n        });\n        $menu.find('.no-select.item').click(function () {\n            $(this).parent().find('.item:not(.no-select)').each(function () {\n                $(this).removeClass('selected active')\n            });\n\n            if (hasUpdateAction) {\n                updateIssuesMeta(\n                    $menu.data('update-url'),\n                    \"\",\n                    $menu.data('issue-id'),\n                    $(this).data('id')\n                ).then(reload);\n            }\n\n            $list.find('.selected').html('');\n            $list.find('.no-select').removeClass('hide');\n            $(input_id).val('');\n        });\n    }\n\n    // Milestone and assignee\n    selectItem('.select-milestone', '#milestone_id');\n    selectItem('.select-assignee', '#assignee_id');\n}\n\nfunction initInstall() {\n    if ($('.install').length == 0) {\n        return;\n    }\n\n    if ($('#db_host').val()==\"\") {\n        $('#db_host').val(\"127.0.0.1:3306\");\n        $('#db_user').val(\"gitea\");\n        $('#db_name').val(\"gitea\");\n    }\n\n    // Database type change detection.\n    $(\"#db_type\").change(function () {\n        const sqliteDefault = 'data/gitea.db';\n        const tidbDefault = 'data/gitea_tidb';\n\n        const dbType = $(this).val();\n        if (dbType === \"SQLite3\") {\n            $('#sql_settings').hide();\n            $('#pgsql_settings').hide();\n            $('#mysql_settings').hide();\n            $('#sqlite_settings').show();\n\n            if (dbType === \"SQLite3\" && $('#db_path').val() == tidbDefault) {\n                $('#db_path').val(sqliteDefault);\n            }\n            return;\n        }\n\n        const dbDefaults = {\n            \"MySQL\": \"127.0.0.1:3306\",\n            \"PostgreSQL\": \"127.0.0.1:5432\",\n            \"MSSQL\": \"127.0.0.1:1433\"\n        };\n\n        $('#sqlite_settings').hide();\n        $('#sql_settings').show();\n\n        $('#pgsql_settings').toggle(dbType === \"PostgreSQL\");\n        $('#mysql_settings').toggle(dbType === \"MySQL\");\n        $.each(dbDefaults, function(_type, defaultHost) {\n            if ($('#db_host').val() == defaultHost) {\n                $('#db_host').val(dbDefaults[dbType]);\n                return false;\n            }\n        });\n    });\n\n    // TODO: better handling of exclusive relations.\n    $('#offline-mode input').change(function () {\n        if ($(this).is(':checked')) {\n            $('#disable-gravatar').checkbox('check');\n            $('#federated-avatar-lookup').checkbox('uncheck');\n        }\n    });\n    $('#disable-gravatar input').change(function () {\n        if ($(this).is(':checked')) {\n            $('#federated-avatar-lookup').checkbox('uncheck');\n        } else {\n            $('#offline-mode').checkbox('uncheck');\n        }\n    });\n    $('#federated-avatar-lookup input').change(function () {\n        if ($(this).is(':checked')) {\n            $('#disable-gravatar').checkbox('uncheck');\n            $('#offline-mode').checkbox('uncheck');\n        }\n    });\n    $('#enable-openid-signin input').change(function () {\n        if ($(this).is(':checked')) {\n            if (!$('#disable-registration input').is(':checked')) {\n                $('#enable-openid-signup').checkbox('check');\n            }\n        } else {\n            $('#enable-openid-signup').checkbox('uncheck');\n        }\n    });\n    $('#disable-registration input').change(function () {\n        if ($(this).is(':checked')) {\n            $('#enable-captcha').checkbox('uncheck');\n            $('#enable-openid-signup').checkbox('uncheck');\n        } else {\n            $('#enable-openid-signup').checkbox('check');\n        }\n    });\n    $('#enable-captcha input').change(function () {\n        if ($(this).is(':checked')) {\n            $('#disable-registration').checkbox('uncheck');\n        }\n    });\n}\n\nfunction initRepository() {\n    if ($('.repository').length == 0) {\n        return;\n    }\n\n    function initFilterSearchDropdown(selector) {\n        const $dropdown = $(selector);\n        $dropdown.dropdown({\n            fullTextSearch: true,\n            selectOnKeydown: false,\n            onChange: function (_text, _value, $choice) {\n                if ($choice.data('url')) {\n                    window.location.href = $choice.data('url');\n                }\n            },\n            message: {noResults: $dropdown.data('no-results')}\n        });\n    }\n\n    // File list and commits\n    if ($('.repository.file.list').length > 0 ||\n        ('.repository.commits').length > 0) {\n        initFilterBranchTagDropdown('.choose.reference .dropdown');\n    }\n\n    // Wiki\n    if ($('.repository.wiki.view').length > 0) {\n        initFilterSearchDropdown('.choose.page .dropdown');\n    }\n\n    // Options\n    if ($('.repository.settings.options').length > 0) {\n        $('#repo_name').keyup(function () {\n            const $prompt = $('#repo-name-change-prompt');\n            if ($(this).val().toString().toLowerCase() != $(this).data('name').toString().toLowerCase()) {\n                $prompt.show();\n            } else {\n                $prompt.hide();\n            }\n        });\n\n        // Enable or select internal/external wiki system and issue tracker.\n        $('.enable-system').change(function () {\n            if (this.checked) {\n                $($(this).data('target')).removeClass('disabled');\n                if (!$(this).data('context')) $($(this).data('context')).addClass('disabled');\n            } else {\n                $($(this).data('target')).addClass('disabled');\n                if (!$(this).data('context')) $($(this).data('context')).removeClass('disabled');\n            }\n        });\n        $('.enable-system-radio').change(function () {\n            if (this.value == 'false') {\n                $($(this).data('target')).addClass('disabled');\n                if (typeof $(this).data('context') !== 'undefined') $($(this).data('context')).removeClass('disabled');\n            } else if (this.value == 'true') {\n                $($(this).data('target')).removeClass('disabled');\n                if (typeof $(this).data('context') !== 'undefined')  $($(this).data('context')).addClass('disabled');\n            }\n        });\n    }\n\n    // Labels\n    if ($('.repository.labels').length > 0) {\n        // Create label\n        const $newLabelPanel = $('.new-label.segment');\n        $('.new-label.button').click(function () {\n            $newLabelPanel.show();\n        });\n        $('.new-label.segment .cancel').click(function () {\n            $newLabelPanel.hide();\n        });\n\n        $('.color-picker').each(function () {\n            $(this).minicolors();\n        });\n        $('.precolors .color').click(function () {\n            const color_hex = $(this).data('color-hex');\n            $('.color-picker').val(color_hex);\n            $('.minicolors-swatch-color').css(\"background-color\", color_hex);\n        });\n        $('.edit-label-button').click(function () {\n            $('#label-modal-id').val($(this).data('id'));\n            $('.edit-label .new-label-input').val($(this).data('title'));\n            $('.edit-label .new-label-desc-input').val($(this).data('description'));\n            $('.edit-label .color-picker').val($(this).data('color'));\n            $('.minicolors-swatch-color').css(\"background-color\", $(this).data('color'));\n            $('.edit-label.modal').modal({\n                onApprove: function () {\n                    $('.edit-label.form').submit();\n                }\n            }).modal('show');\n            return false;\n        });\n    }\n\n    // Milestones\n    if ($('.repository.new.milestone').length > 0) {\n        const $datepicker = $('.milestone.datepicker');\n        $datepicker.datetimepicker({\n            lang: $datepicker.data('lang'),\n            inline: true,\n            timepicker: false,\n            startDate: $datepicker.data('start-date'),\n            formatDate: 'Y-m-d',\n            onSelectDate: function (ct) {\n                $('#deadline').val(ct.dateFormat('Y-m-d'));\n            }\n        });\n        $('#clear-date').click(function () {\n            $('#deadline').val('');\n            return false;\n        });\n    }\n\n    // Issues\n    if ($('.repository.view.issue').length > 0) {\n        // Edit issue title\n        const $issueTitle = $('#issue-title');\n        const $editInput = $('#edit-title-input input');\n        const editTitleToggle = function () {\n            $issueTitle.toggle();\n            $('.not-in-edit').toggle();\n            $('#edit-title-input').toggle();\n            $('.in-edit').toggle();\n            $editInput.focus();\n            return false;\n        };\n        $('#edit-title').click(editTitleToggle);\n        $('#cancel-edit-title').click(editTitleToggle);\n        $('#save-edit-title').click(editTitleToggle).click(function () {\n            if ($editInput.val().length == 0 ||\n                $editInput.val() == $issueTitle.text()) {\n                $editInput.val($issueTitle.text());\n                return false;\n            }\n\n            $.post($(this).data('update-url'), {\n                    \"_csrf\": csrf,\n                    \"title\": $editInput.val()\n                },\n                function (data) {\n                    $editInput.val(data.title);\n                    $issueTitle.text(data.title);\n                    reload();\n                });\n            return false;\n        });\n\n        // Edit issue or comment content\n        $('.edit-content').click(function () {\n            const $segment = $(this).parent().parent().parent().next();\n            const $editContentZone = $segment.find('.edit-content-zone');\n            const $renderContent = $segment.find('.render-content');\n            const $rawContent = $segment.find('.raw-content');\n            let $textarea;\n\n            // Setup new form\n            if ($editContentZone.html().length == 0) {\n                $editContentZone.html($('#edit-content-form').html());\n                $textarea = $editContentZone.find('textarea');\n                issuesTribute.attach($textarea.get());\n                emojiTribute.attach($textarea.get());\n\n                const $dropzone = $editContentZone.find('.dropzone');\n                $dropzone.data(\"saved\", false);\n                const $files = $editContentZone.find('.comment-files');\n                if ($dropzone.length > 0) {\n                    const filenameDict = {};\n                    $dropzone.dropzone({\n                        url: $dropzone.data('upload-url'),\n                        headers: {\"X-Csrf-Token\": csrf},\n                        maxFiles: $dropzone.data('max-file'),\n                        maxFilesize: $dropzone.data('max-size'),\n                        acceptedFiles: ($dropzone.data('accepts') === '*/*') ? null : $dropzone.data('accepts'),\n                        addRemoveLinks: true,\n                        dictDefaultMessage: $dropzone.data('default-message'),\n                        dictInvalidFileType: $dropzone.data('invalid-input-type'),\n                        dictFileTooBig: $dropzone.data('file-too-big'),\n                        dictRemoveFile: $dropzone.data('remove-file'),\n                        init: function () {\n                            this.on(\"success\", function (file, data) {\n                                filenameDict[file.name] = {\n                                    \"uuid\": data.uuid,\n                                    \"submitted\": false\n                                }\n                                const input = $('<input id=\"' + data.uuid + '\" name=\"files\" type=\"hidden\">').val(data.uuid);\n                                $files.append(input);\n                            });\n                            this.on(\"removedfile\", function (file) {\n                                if (!(file.name in filenameDict)) {\n                                    return;\n                                }\n                                $('#' + filenameDict[file.name].uuid).remove();\n                                if ($dropzone.data('remove-url') && $dropzone.data('csrf') && !filenameDict[file.name].submitted) {\n                                    $.post($dropzone.data('remove-url'), {\n                                        file: filenameDict[file.name].uuid,\n                                        _csrf: $dropzone.data('csrf')\n                                    });\n                                }\n                            });\n                            this.on(\"submit\", function () {\n                                $.each(filenameDict, function(name){\n                                    filenameDict[name].submitted = true;\n                                });\n                            });\n                            this.on(\"reload\", function (){\n                                $.getJSON($editContentZone.data('attachment-url'), function(data){\n                                    const drop = $dropzone.get(0).dropzone;\n                                    drop.removeAllFiles(true);\n                                    $files.empty();\n                                    $.each(data, function(){\n                                        const imgSrc =  $dropzone.data('upload-url') + \"/\" + this.uuid;\n                                        drop.emit(\"addedfile\", this);\n                                        drop.emit(\"thumbnail\", this, imgSrc);\n                                        drop.emit(\"complete\", this);\n                                        drop.files.push(this);\n                                        filenameDict[this.name] = {\n                                            \"submitted\": true,\n                                            \"uuid\": this.uuid\n                                        }\n                                        $dropzone.find(\"img[src='\" + imgSrc + \"']\").css(\"max-width\", \"100%\");\n                                        const input = $('<input id=\"' + this.uuid + '\" name=\"files\" type=\"hidden\">').val(this.uuid);\n                                        $files.append(input);\n                                    });\n                                });\n                            });\n                        }\n                    });\n                    $dropzone.get(0).dropzone.emit(\"reload\");\n                }\n                // Give new write/preview data-tab name to distinguish from others\n                const $editContentForm = $editContentZone.find('.ui.comment.form');\n                const $tabMenu = $editContentForm.find('.tabular.menu');\n                $tabMenu.attr('data-write', $editContentZone.data('write'));\n                $tabMenu.attr('data-preview', $editContentZone.data('preview'));\n                $tabMenu.find('.write.item').attr('data-tab', $editContentZone.data('write'));\n                $tabMenu.find('.preview.item').attr('data-tab', $editContentZone.data('preview'));\n                $editContentForm.find('.write.segment').attr('data-tab', $editContentZone.data('write'));\n                $editContentForm.find('.preview.segment').attr('data-tab', $editContentZone.data('preview'));\n\n                initCommentPreviewTab($editContentForm);\n\n                $editContentZone.find('.cancel.button').click(function () {\n                    $renderContent.show();\n                    $editContentZone.hide();\n                    $dropzone.get(0).dropzone.emit(\"reload\");\n                });\n                $editContentZone.find('.save.button').click(function () {\n                    $renderContent.show();\n                    $editContentZone.hide();\n                    const $attachments = $files.find(\"[name=files]\").map(function(){\n                        return $(this).val();\n                    }).get();\n                    $.post($editContentZone.data('update-url'), {\n                        \"_csrf\": csrf,\n                        \"content\": $textarea.val(),\n                        \"context\": $editContentZone.data('context'),\n                        \"files\": $attachments\n                    },\n                    function (data) {\n                        if (data.length == 0) {\n                            $renderContent.html($('#no-content').html());\n                        } else {\n                            $renderContent.html(data.content);\n                            emojify.run($renderContent[0]);\n                            $('pre code', $renderContent[0]).each(function () {\n                                hljs.highlightBlock(this);\n                            });\n                        }\n                        const $content = $segment.parent();\n                        if(!$content.find(\".ui.small.images\").length){\n                            if(data.attachments != \"\"){\n                                $content.append(\n                                '<div class=\"ui bottom attached segment\">' +\n                                '    <div class=\"ui small images\">' +\n                                '    </div>' +\n                                '</div>'\n                                );\n                                $content.find(\".ui.small.images\").html(data.attachments);\n                            }\n                        } else if (data.attachments == \"\") {\n                            $content.find(\".ui.small.images\").parent().remove();\n                        } else {\n                            $content.find(\".ui.small.images\").html(data.attachments);\n                        }\n                        $dropzone.get(0).dropzone.emit(\"submit\");\n                        $dropzone.get(0).dropzone.emit(\"reload\");\n                    });\n                });\n            } else {\n                $textarea = $segment.find('textarea');\n            }\n\n            // Show write/preview tab and copy raw content as needed\n            $editContentZone.show();\n            $renderContent.hide();\n            if ($textarea.val().length == 0) {\n                $textarea.val($rawContent.text());\n            }\n            $textarea.focus();\n            return false;\n        });\n\n        // Delete comment\n        $('.delete-comment').click(function () {\n            const $this = $(this);\n            if (confirm($this.data('locale'))) {\n                $.post($this.data('url'), {\n                    \"_csrf\": csrf\n                }).success(function () {\n                    $('#' + $this.data('comment-id')).remove();\n                });\n            }\n            return false;\n        });\n\n        // Change status\n        const $statusButton = $('#status-button');\n        $('#comment-form .edit_area').keyup(function () {\n            if ($(this).val().length == 0) {\n                $statusButton.text($statusButton.data('status'))\n            } else {\n                $statusButton.text($statusButton.data('status-and-comment'))\n            }\n        });\n        $statusButton.click(function () {\n            $('#status').val($statusButton.data('status-val'));\n            $('#comment-form').submit();\n        });\n\n        // Pull Request merge button\n        const $mergeButton = $('.merge-button > button');\n        $mergeButton.on('click', function(e) {\n            e.preventDefault();\n            $('.' + $(this).data('do') + '-fields').show();\n            $(this).parent().hide();\n        });\n        $('.merge-button > .dropdown').dropdown({\n            onChange: function (_text, _value, $choice) {\n                if ($choice.data('do')) {\n                    $mergeButton.find('.button-text').text($choice.text());\n                    $mergeButton.data('do', $choice.data('do'));\n                }\n            }\n        });\n        $('.merge-cancel').on('click', function(e) {\n            e.preventDefault();\n            $(this).closest('.form').hide();\n            $mergeButton.parent().show();\n        });\n\n        initReactionSelector();\n    }\n\n    // Diff\n    if ($('.repository.diff').length > 0) {\n        $('.diff-counter').each(function () {\n            const $item = $(this);\n            const addLine = $item.find('span[data-line].add').data(\"line\");\n            const delLine = $item.find('span[data-line].del').data(\"line\");\n            const addPercent = parseFloat(addLine) / (parseFloat(addLine) + parseFloat(delLine)) * 100;\n            $item.find(\".bar .add\").css(\"width\", addPercent + \"%\");\n        });\n    }\n\n    // Quick start and repository home\n    $('#repo-clone-ssh').click(function () {\n        $('.clone-url').text($(this).data('link'));\n        $('#repo-clone-url').val($(this).data('link'));\n        $(this).addClass('blue');\n        $('#repo-clone-https').removeClass('blue');\n        localStorage.setItem('repo-clone-protocol', 'ssh');\n    });\n    $('#repo-clone-https').click(function () {\n        $('.clone-url').text($(this).data('link'));\n        $('#repo-clone-url').val($(this).data('link'));\n        $(this).addClass('blue');\n        $('#repo-clone-ssh').removeClass('blue');\n        localStorage.setItem('repo-clone-protocol', 'https');\n    });\n    $('#repo-clone-url').click(function () {\n        $(this).select();\n    });\n\n    // Pull request\n    const $repoComparePull = $('.repository.compare.pull');\n    if ($repoComparePull.length > 0) {\n        initFilterSearchDropdown('.choose.branch .dropdown');\n        // show pull request form\n        $repoComparePull.find('button.show-form').on('click', function(e) {\n            e.preventDefault();\n            $repoComparePull.find('.pullrequest-form').show();\n            $(this).parent().hide();\n        });\n    }\n\n    // Branches\n    if ($('.repository.settings.branches').length > 0) {\n        initFilterSearchDropdown('.protected-branches .dropdown');\n        $('.enable-protection, .enable-whitelist').change(function () {\n            if (this.checked) {\n                $($(this).data('target')).removeClass('disabled');\n            } else {\n                $($(this).data('target')).addClass('disabled');\n            }\n        });\n    }\n}\n\nfunction initMigration() {\n    const toggleMigrations = function() {\n        const authUserName = $('#auth_username').val();\n        const cloneAddr = $('#clone_addr').val();\n        if (!$('#mirror').is(\":checked\") && (authUserName!=undefined && authUserName.length > 0)\n        && (cloneAddr!=undefined && (cloneAddr.startsWith(\"https://github.com\") || cloneAddr.startsWith(\"http://github.com\")))) {\n            $('#migrate_items').show();\n        } else {\n            $('#migrate_items').hide();\n        }\n    }\n\n    toggleMigrations();\n\n    $('#clone_addr').on('input', toggleMigrations)\n    $('#auth_username').on('input', toggleMigrations)\n    $('#mirror').on('change', toggleMigrations)\n}\n\nfunction initPullRequestReview() {\n    $('.show-outdated').on('click', function (e) {\n        e.preventDefault();\n        const id = $(this).data('comment');\n        $(this).addClass(\"hide\");\n        $(\"#code-comments-\" + id).removeClass('hide');\n        $(\"#code-preview-\" + id).removeClass('hide');\n        $(\"#hide-outdated-\" + id).removeClass('hide');\n    });\n\n    $('.hide-outdated').on('click', function (e) {\n        e.preventDefault();\n        const id = $(this).data('comment');\n        $(this).addClass(\"hide\");\n        $(\"#code-comments-\" + id).addClass('hide');\n        $(\"#code-preview-\" + id).addClass('hide');\n        $(\"#show-outdated-\" + id).removeClass('hide');\n    });\n\n    $('button.comment-form-reply').on('click', function (e) {\n        e.preventDefault();\n        $(this).hide();\n        const form = $(this).parent().find('.comment-form')\n        form.removeClass('hide');\n        assingMenuAttributes(form.find('.menu'));\n    });\n    // The following part is only for diff views\n    if ($('.repository.pull.diff').length == 0) {\n        return;\n    }\n\n    $('.diff-detail-box.ui.sticky').sticky();\n\n    $('.btn-review').on('click', function(e) {\n        e.preventDefault();\n        $(this).closest('.dropdown').find('.menu').toggle('visible');\n    }).closest('.dropdown').find('.link.close').on('click', function(e) {\n        e.preventDefault();\n        $(this).closest('.menu').toggle('visible');\n    });\n\n    $('.code-view .lines-code,.code-view .lines-num')\n        .on('mouseenter', function() {\n            const parent = $(this).closest('td');\n            $(this).closest('tr').addClass(\n                parent.hasClass('lines-num-old') || parent.hasClass('lines-code-old')\n                    ? 'focus-lines-old' : 'focus-lines-new'\n            );\n        })\n        .on('mouseleave', function() {\n            $(this).closest('tr').removeClass('focus-lines-new focus-lines-old');\n        });\n    $('.add-code-comment').on('click', function(e) {\n        // https://github.com/go-gitea/gitea/issues/4745\n        if ($(e.target).hasClass('btn-add-single')) {\n          return;\n        }\n        e.preventDefault();\n        const isSplit = $(this).closest('.code-diff').hasClass('code-diff-split');\n        const side = $(this).data('side');\n        const idx = $(this).data('idx');\n        const path = $(this).data('path');\n        const form = $('#pull_review_add_comment').html();\n        const tr = $(this).closest('tr');\n        let ntr = tr.next();\n        if (!ntr.hasClass('add-comment')) {\n            ntr = $('<tr class=\"add-comment\">'\n                    + (isSplit ? '<td class=\"lines-num\"></td><td class=\"lines-type-marker\"></td><td class=\"add-comment-left\"></td><td class=\"lines-num\"></td><td class=\"lines-type-marker\"></td><td class=\"add-comment-right\"></td>'\n                               : '<td class=\"lines-num\"></td><td class=\"lines-num\"></td><td class=\"lines-type-marker\"></td><td class=\"add-comment-left add-comment-right\"></td>')\n                    + '</tr>');\n            tr.after(ntr);\n        }\n        const td = ntr.find('.add-comment-' + side);\n        let commentCloud = td.find('.comment-code-cloud');\n        if (commentCloud.length === 0) {\n            td.html(form);\n            commentCloud = td.find('.comment-code-cloud');\n            assingMenuAttributes(commentCloud.find('.menu'));\n\n            td.find(\"input[name='line']\").val(idx);\n            td.find(\"input[name='side']\").val(side === \"left\" ? \"previous\":\"proposed\");\n            td.find(\"input[name='path']\").val(path);\n        }\n        commentCloud.find('textarea').focus();\n    });\n}\n\nfunction assingMenuAttributes(menu) {\n    const id = Math.floor(Math.random() * Math.floor(1000000));\n    menu.attr('data-write', menu.attr('data-write') + id);\n    menu.attr('data-preview', menu.attr('data-preview') + id);\n    menu.find('.item').each(function() {\n        const tab = $(this).attr('data-tab') + id;\n        $(this).attr('data-tab', tab);\n    });\n    menu.parent().find(\"*[data-tab='write']\").attr('data-tab', 'write' + id);\n    menu.parent().find(\"*[data-tab='preview']\").attr('data-tab', 'preview' + id);\n    initCommentPreviewTab(menu.parent(\".form\"));\n    return id;\n}\n\nfunction initRepositoryCollaboration() {\n    // Change collaborator access mode\n    $('.access-mode.menu .item').click(function () {\n        const $menu = $(this).parent();\n        $.post($menu.data('url'), {\n            \"_csrf\": csrf,\n            \"uid\": $menu.data('uid'),\n            \"mode\": $(this).data('value')\n        })\n    });\n}\n\nfunction initTeamSettings() {\n    // Change team access mode\n    $('.organization.new.team input[name=permission]').change(function () {\n        const val = $('input[name=permission]:checked', '.organization.new.team').val()\n        if (val === 'admin') {\n            $('.organization.new.team .team-units').hide();\n        } else {\n            $('.organization.new.team .team-units').show();\n        }\n    });\n}\n\nfunction initWikiForm() {\n    const $editArea = $('.repository.wiki textarea#edit_area');\n    if ($editArea.length > 0) {\n        const simplemde = new SimpleMDE({\n            autoDownloadFontAwesome: false,\n            element: $editArea[0],\n            forceSync: true,\n            previewRender: function (plainText, preview) { // Async method\n                setTimeout(function () {\n                    // FIXME: still send render request when return back to edit mode\n                    $.post($editArea.data('url'), {\n                            \"_csrf\": csrf,\n                            \"mode\": \"gfm\",\n                            \"context\": $editArea.data('context'),\n                            \"text\": plainText\n                        },\n                        function (data) {\n                            preview.innerHTML = '<div class=\"markdown ui segment\">' + data + '</div>';\n                            emojify.run($('.editor-preview')[0]);\n                        }\n                    );\n                }, 0);\n\n                return \"Loading...\";\n            },\n            renderingConfig: {\n                singleLineBreaks: false\n            },\n            indentWithTabs: false,\n            tabSize: 4,\n            spellChecker: false,\n            toolbar: [\"bold\", \"italic\", \"strikethrough\", \"|\",\n                \"heading-1\", \"heading-2\", \"heading-3\", \"heading-bigger\", \"heading-smaller\", \"|\",\n                {\n                    name: \"code-inline\",\n                    action: function(e){\n                        const cm = e.codemirror;\n                        const selection = cm.getSelection();\n                        cm.replaceSelection(\"`\" + selection + \"`\");\n                        if (!selection) {\n                            const cursorPos = cm.getCursor();\n                            cm.setCursor(cursorPos.line, cursorPos.ch - 1);\n                        }\n                        cm.focus();\n                    },\n                    className: \"fa fa-angle-right\",\n                    title: \"Add Inline Code\",\n                },\"code\", \"quote\", \"|\", {\n                    name: \"checkbox-empty\",\n                    action: function(e){\n                        const cm = e.codemirror;\n                        cm.replaceSelection(\"\\n- [ ] \" + cm.getSelection());\n                        cm.focus();\n                    },\n                    className: \"fa fa-square-o\",\n                    title: \"Add Checkbox (empty)\",\n                },\n                {\n                    name: \"checkbox-checked\",\n                    action: function(e){\n                        const cm = e.codemirror;\n                        cm.replaceSelection(\"\\n- [x] \" + cm.getSelection());\n                        cm.focus();\n                    },\n                    className: \"fa fa-check-square-o\",\n                    title: \"Add Checkbox (checked)\",\n                }, \"|\",\n                \"unordered-list\", \"ordered-list\", \"|\",\n                \"link\", \"image\", \"table\", \"horizontal-rule\", \"|\",\n                \"clean-block\", \"preview\", \"fullscreen\"]\n        })\n        $(simplemde.codemirror.getInputField()).addClass(\"js-quick-submit\");\n    }\n}\n\n// For IE\nString.prototype.endsWith = function (pattern) {\n    const d = this.length - pattern.length;\n    return d >= 0 && this.lastIndexOf(pattern) === d;\n};\n\n// Adding function to get the cursor position in a text field to jQuery object.\n$.fn.getCursorPosition = function () {\n    const el = $(this).get(0);\n    let pos = 0;\n    if ('selectionStart' in el) {\n        pos = el.selectionStart;\n    } else if ('selection' in document) {\n        el.focus();\n        const Sel = document.selection.createRange();\n        const SelLength = document.selection.createRange().text.length;\n        Sel.moveStart('character', -el.value.length);\n        pos = Sel.text.length - SelLength;\n    }\n    return pos;\n}\n\nfunction setSimpleMDE($editArea) {\n    if (codeMirrorEditor) {\n        codeMirrorEditor.toTextArea();\n        codeMirrorEditor = null;\n    }\n\n    if (simpleMDEditor) {\n        return true;\n    }\n\n    simpleMDEditor = new SimpleMDE({\n        autoDownloadFontAwesome: false,\n        element: $editArea[0],\n        forceSync: true,\n        renderingConfig: {\n            singleLineBreaks: false\n        },\n        indentWithTabs: false,\n        tabSize: 4,\n        spellChecker: false,\n        previewRender: function (plainText, preview) { // Async method\n            setTimeout(function () {\n                // FIXME: still send render request when return back to edit mode\n                $.post($editArea.data('url'), {\n                        \"_csrf\": csrf,\n                        \"mode\": \"gfm\",\n                        \"context\": $editArea.data('context'),\n                        \"text\": plainText\n                    },\n                    function (data) {\n                        preview.innerHTML = '<div class=\"markdown ui segment\">' + data + '</div>';\n                        emojify.run($('.editor-preview')[0]);\n                    }\n                );\n            }, 0);\n\n            return \"Loading...\";\n        },\n        toolbar: [\"bold\", \"italic\", \"strikethrough\", \"|\",\n            \"heading-1\", \"heading-2\", \"heading-3\", \"heading-bigger\", \"heading-smaller\", \"|\",\n            \"code\", \"quote\", \"|\",\n            \"unordered-list\", \"ordered-list\", \"|\",\n            \"link\", \"image\", \"table\", \"horizontal-rule\", \"|\",\n            \"clean-block\", \"preview\", \"fullscreen\", \"side-by-side\"]\n    });\n\n    return true;\n}\n\nfunction setCodeMirror($editArea) {\n    if (simpleMDEditor) {\n        simpleMDEditor.toTextArea();\n        simpleMDEditor = null;\n    }\n\n    if (codeMirrorEditor) {\n        return true;\n    }\n\n    codeMirrorEditor = CodeMirror.fromTextArea($editArea[0], {\n        lineNumbers: true\n    });\n    codeMirrorEditor.on(\"change\", function (cm, _change) {\n        $editArea.val(cm.getValue());\n    });\n\n    return true;\n}\n\nfunction initEditor() {\n    $('.js-quick-pull-choice-option').change(function () {\n        if ($(this).val() == 'commit-to-new-branch') {\n            $('.quick-pull-branch-name').show();\n            $('.quick-pull-branch-name input').prop('required',true);\n        } else {\n            $('.quick-pull-branch-name').hide();\n            $('.quick-pull-branch-name input').prop('required',false);\n        }\n        $('#commit-button').text($(this).attr('button_text'));\n    });\n\n    const $editFilename = $(\"#file-name\");\n    $editFilename.keyup(function (e) {\n        const $section = $('.breadcrumb span.section');\n        const $divider = $('.breadcrumb div.divider');\n        let value;\n        let parts;\n\n        if (e.keyCode == 8) {\n            if ($(this).getCursorPosition() == 0) {\n                if ($section.length > 0) {\n                    value = $section.last().find('a').text();\n                    $(this).val(value + $(this).val());\n                    $(this)[0].setSelectionRange(value.length, value.length);\n                    $section.last().remove();\n                    $divider.last().remove();\n                }\n            }\n        }\n        if (e.keyCode == 191) {\n            parts = $(this).val().split('/');\n            for (let i = 0; i < parts.length; ++i) {\n                value = parts[i];\n                if (i < parts.length - 1) {\n                    if (value.length) {\n                        $('<span class=\"section\"><a href=\"#\">' + value + '</a></span>').insertBefore($(this));\n                        $('<div class=\"divider\"> / </div>').insertBefore($(this));\n                    }\n                }\n                else {\n                    $(this).val(value);\n                }\n                $(this)[0].setSelectionRange(0, 0);\n            }\n        }\n        parts = [];\n        $('.breadcrumb span.section').each(function () {\n            const element = $(this);\n            if (element.find('a').length) {\n                parts.push(element.find('a').text());\n            } else {\n                parts.push(element.text());\n            }\n        });\n        if ($(this).val())\n            parts.push($(this).val());\n        $('#tree_path').val(parts.join('/'));\n    }).trigger('keyup');\n\n    const $editArea = $('.repository.editor textarea#edit_area');\n    if (!$editArea.length)\n        return;\n\n    const markdownFileExts = $editArea.data(\"markdown-file-exts\").split(\",\");\n    const lineWrapExtensions = $editArea.data(\"line-wrap-extensions\").split(\",\");\n\n    $editFilename.on(\"keyup\", function () {\n        const val = $editFilename.val();\n        let mode, spec, extension, extWithDot, dataUrl, apiCall;\n\n        extension = extWithDot = \"\";\n        const m = /.+\\.([^.]+)$/.exec(val);\n        if (m) {\n            extension = m[1];\n            extWithDot = \".\" + extension;\n        }\n\n        const info = CodeMirror.findModeByExtension(extension);\n        const previewLink = $('a[data-tab=preview]');\n        if (info) {\n            mode = info.mode;\n            spec = info.mime;\n            apiCall = mode;\n        }\n        else {\n            apiCall = extension\n        }\n\n        if (previewLink.length && apiCall && previewFileModes && previewFileModes.length && previewFileModes.indexOf(apiCall) >= 0) {\n            dataUrl = previewLink.data('url');\n            previewLink.data('url', dataUrl.replace(/(.*)\\/.*/i, '$1/' + mode));\n            previewLink.show();\n        }\n        else {\n            previewLink.hide();\n        }\n\n        // If this file is a Markdown extensions, we will load that editor and return\n        if (markdownFileExts.indexOf(extWithDot) >= 0) {\n            if (setSimpleMDE($editArea)) {\n                return;\n            }\n        }\n\n        // Else we are going to use CodeMirror\n        if (!codeMirrorEditor && !setCodeMirror($editArea)) {\n            return;\n        }\n\n        if (mode) {\n            codeMirrorEditor.setOption(\"mode\", spec);\n            CodeMirror.autoLoadMode(codeMirrorEditor, mode);\n        }\n\n        if (lineWrapExtensions.indexOf(extWithDot) >= 0) {\n            codeMirrorEditor.setOption(\"lineWrapping\", true);\n        }\n        else {\n            codeMirrorEditor.setOption(\"lineWrapping\", false);\n        }\n\n        // get the filename without any folder\n        let value = $editFilename.val();\n        if (value.length === 0) {\n            return;\n        }\n        value = value.split('/');\n        value = value[value.length - 1];\n\n        $.getJSON($editFilename.data('ec-url-prefix')+value, function(editorconfig) {\n            if (editorconfig.indent_style === 'tab') {\n                codeMirrorEditor.setOption(\"indentWithTabs\", true);\n                codeMirrorEditor.setOption('extraKeys', {});\n            } else {\n                codeMirrorEditor.setOption(\"indentWithTabs\", false);\n                // required because CodeMirror doesn't seems to use spaces correctly for {\"indentWithTabs\": false}:\n                // - https://github.com/codemirror/CodeMirror/issues/988\n                // - https://codemirror.net/doc/manual.html#keymaps\n                codeMirrorEditor.setOption('extraKeys', {\n                    Tab: function(cm) {\n                        const spaces = Array(parseInt(cm.getOption(\"indentUnit\")) + 1).join(\" \");\n                        cm.replaceSelection(spaces);\n                    }\n                });\n            }\n            codeMirrorEditor.setOption(\"indentUnit\", editorconfig.indent_size || 4);\n            codeMirrorEditor.setOption(\"tabSize\", editorconfig.tab_width || 4);\n        });\n    }).trigger('keyup');\n\n    // Using events from https://github.com/codedance/jquery.AreYouSure#advanced-usage\n    // to enable or disable the commit button\n    const $commitButton = $('#commit-button');\n    const $editForm = $('.ui.edit.form');\n    const dirtyFileClass = 'dirty-file';\n\n    // Disabling the button at the start\n    $commitButton.prop('disabled', true);\n\n    // Registering a custom listener for the file path and the file content\n    $editForm.areYouSure({\n        silent: true,\n        dirtyClass: dirtyFileClass,\n        fieldSelector: ':input:not(.commit-form-wrapper :input)',\n        change: function () {\n            const dirty = $(this).hasClass(dirtyFileClass);\n            $commitButton.prop('disabled', !dirty);\n        }\n    });\n\n    $commitButton.click(function (event) {\n        // A modal which asks if an empty file should be committed\n        if ($editArea.val().length === 0) {\n            $('#edit-empty-content-modal').modal({\n                onApprove: function () {\n                    $('.edit.form').submit();\n                }\n            }).modal('show');\n            event.preventDefault();\n        }\n    });\n}\n\nfunction initOrganization() {\n    if ($('.organization').length == 0) {\n        return;\n    }\n\n    // Options\n    if ($('.organization.settings.options').length > 0) {\n        $('#org_name').keyup(function () {\n            const $prompt = $('#org-name-change-prompt');\n            if ($(this).val().toString().toLowerCase() != $(this).data('org-name').toString().toLowerCase()) {\n                $prompt.show();\n            } else {\n                $prompt.hide();\n            }\n        });\n    }\n}\n\nfunction initUserSettings() {\n    // Options\n    if ($('.user.settings.profile').length > 0) {\n        $('#username').keyup(function () {\n            const $prompt = $('#name-change-prompt');\n            if ($(this).val().toString().toLowerCase() != $(this).data('name').toString().toLowerCase()) {\n                $prompt.show();\n            } else {\n                $prompt.hide();\n            }\n        });\n    }\n}\n\nfunction initWebhook() {\n    if ($('.new.webhook').length == 0) {\n        return;\n    }\n\n    $('.events.checkbox input').change(function () {\n        if ($(this).is(':checked')) {\n            $('.events.fields').show();\n        }\n    });\n    $('.non-events.checkbox input').change(function () {\n        if ($(this).is(':checked')) {\n            $('.events.fields').hide();\n        }\n    });\n\n    const updateContentType = function () {\n        const visible = $('#http_method').val() === 'POST';\n        $('#content_type').parent().parent()[visible ? 'show' : 'hide']();\n    };\n    updateContentType();\n    $('#http_method').change(function () {\n        updateContentType();\n    });\n\n    // Test delivery\n    $('#test-delivery').click(function () {\n        const $this = $(this);\n        $this.addClass('loading disabled');\n        $.post($this.data('link'), {\n            \"_csrf\": csrf\n        }).done(\n            setTimeout(function () {\n                window.location.href = $this.data('redirect');\n            }, 5000)\n        )\n    });\n}\n\nfunction initAdmin() {\n    if ($('.admin').length == 0) {\n        return;\n    }\n\n    // New user\n    if ($('.admin.new.user').length > 0 ||\n        $('.admin.edit.user').length > 0) {\n        $('#login_type').change(function () {\n            if ($(this).val().substring(0, 1) == '0') {\n                $('#login_name').removeAttr('required');\n                $('.non-local').hide();\n                $('.local').show();\n                $('#user_name').focus();\n\n                if ($(this).data('password') == \"required\") {\n                    $('#password').attr('required', 'required');\n                }\n\n            } else {\n                $('#login_name').attr('required', 'required');\n                $('.non-local').show();\n                $('.local').hide();\n                $('#login_name').focus();\n\n                $('#password').removeAttr('required');\n            }\n        });\n    }\n\n    function onSecurityProtocolChange() {\n        if ($('#security_protocol').val() > 0) {\n            $('.has-tls').show();\n        } else {\n            $('.has-tls').hide();\n        }\n    }\n\n    function onUsePagedSearchChange() {\n        if ($('#use_paged_search').prop('checked')) {\n            $('.search-page-size').show()\n                .find('input').attr('required', 'required');\n        } else {\n            $('.search-page-size').hide()\n                .find('input').removeAttr('required');\n        }\n    }\n\n    function onOAuth2Change() {\n        $('.open_id_connect_auto_discovery_url, .oauth2_use_custom_url').hide();\n        $('.open_id_connect_auto_discovery_url input[required]').removeAttr('required');\n\n        const provider = $('#oauth2_provider').val();\n        switch (provider) {\n            case 'github':\n            case 'gitlab':\n            case 'gitea':\n                $('.oauth2_use_custom_url').show();\n                break;\n            case 'openidConnect':\n                $('.open_id_connect_auto_discovery_url input').attr('required', 'required');\n                $('.open_id_connect_auto_discovery_url').show();\n                break;\n        }\n        onOAuth2UseCustomURLChange();\n    }\n\n    function onOAuth2UseCustomURLChange() {\n        const provider = $('#oauth2_provider').val();\n        $('.oauth2_use_custom_url_field').hide();\n        $('.oauth2_use_custom_url_field input[required]').removeAttr('required');\n\n        if ($('#oauth2_use_custom_url').is(':checked')) {\n            if (!$('#oauth2_token_url').val()) {\n                $('#oauth2_token_url').val($('#' + provider + '_token_url').val());\n            }\n            if (!$('#oauth2_auth_url').val()) {\n                $('#oauth2_auth_url').val($('#' + provider + '_auth_url').val());\n            }\n            if (!$('#oauth2_profile_url').val()) {\n                $('#oauth2_profile_url').val($('#' + provider + '_profile_url').val());\n            }\n            if (!$('#oauth2_email_url').val()) {\n                $('#oauth2_email_url').val($('#' + provider + '_email_url').val());\n            }\n            switch (provider) {\n                case 'github':\n                    $('.oauth2_token_url input, .oauth2_auth_url input, .oauth2_profile_url input, .oauth2_email_url input').attr('required', 'required');\n                    $('.oauth2_token_url, .oauth2_auth_url, .oauth2_profile_url, .oauth2_email_url').show();\n                    break;\n                case 'gitea':\n                case 'gitlab':\n                    $('.oauth2_token_url input, .oauth2_auth_url input, .oauth2_profile_url input').attr('required', 'required');\n                    $('.oauth2_token_url, .oauth2_auth_url, .oauth2_profile_url').show();\n                    $('#oauth2_email_url').val('');\n                    break;\n            }\n        }\n    }\n\n    // New authentication\n    if ($('.admin.new.authentication').length > 0) {\n        $('#auth_type').change(function () {\n            $('.ldap, .dldap, .smtp, .pam, .oauth2, .has-tls .search-page-size').hide();\n\n            $('.ldap input[required], .binddnrequired input[required], .dldap input[required], .smtp input[required], .pam input[required], .oauth2 input[required], .has-tls input[required]').removeAttr('required');\n            $('.binddnrequired').removeClass(\"required\");\n\n            const authType = $(this).val();\n            switch (authType) {\n                case '2':     // LDAP\n                    $('.ldap').show();\n                    $('.binddnrequired input, .ldap div.required:not(.dldap) input').attr('required', 'required');\n                    $('.binddnrequired').addClass(\"required\");\n                    break;\n                case '3':     // SMTP\n                    $('.smtp').show();\n                    $('.has-tls').show();\n                    $('.smtp div.required input, .has-tls').attr('required', 'required');\n                    break;\n                case '4':     // PAM\n                    $('.pam').show();\n                    $('.pam input').attr('required', 'required');\n                    break;\n                case '5':     // LDAP\n                    $('.dldap').show();\n                    $('.dldap div.required:not(.ldap) input').attr('required', 'required');\n                    break;\n                case '6':     // OAuth2\n                    $('.oauth2').show();\n                    $('.oauth2 div.required:not(.oauth2_use_custom_url,.oauth2_use_custom_url_field,.open_id_connect_auto_discovery_url) input').attr('required', 'required');\n                    onOAuth2Change();\n                    break;\n            }\n            if (authType == '2' || authType == '5') {\n                onSecurityProtocolChange()\n            }\n            if (authType == '2') {\n                onUsePagedSearchChange();\n            }\n        });\n        $('#auth_type').change();\n        $('#security_protocol').change(onSecurityProtocolChange);\n        $('#use_paged_search').change(onUsePagedSearchChange);\n        $('#oauth2_provider').change(onOAuth2Change);\n        $('#oauth2_use_custom_url').change(onOAuth2UseCustomURLChange);\n    }\n    // Edit authentication\n    if ($('.admin.edit.authentication').length > 0) {\n        const authType = $('#auth_type').val();\n        if (authType == '2' || authType == '5') {\n            $('#security_protocol').change(onSecurityProtocolChange);\n            if (authType == '2') {\n                $('#use_paged_search').change(onUsePagedSearchChange);\n            }\n        } else if (authType == '6') {\n            $('#oauth2_provider').change(onOAuth2Change);\n            $('#oauth2_use_custom_url').change(onOAuth2UseCustomURLChange);\n            onOAuth2Change();\n        }\n    }\n\n    // Notice\n    if ($('.admin.notice')) {\n        const $detailModal = $('#detail-modal');\n\n        // Attach view detail modals\n        $('.view-detail').click(function () {\n            $detailModal.find('.content p').text($(this).data('content'));\n            $detailModal.modal('show');\n            return false;\n        });\n\n        // Select actions\n        const $checkboxes = $('.select.table .ui.checkbox');\n        $('.select.action').click(function () {\n            switch ($(this).data('action')) {\n                case 'select-all':\n                    $checkboxes.checkbox('check');\n                    break;\n                case 'deselect-all':\n                    $checkboxes.checkbox('uncheck');\n                    break;\n                case 'inverse':\n                    $checkboxes.checkbox('toggle');\n                    break;\n            }\n        });\n        $('#delete-selection').click(function () {\n            const $this = $(this);\n            $this.addClass(\"loading disabled\");\n            const ids = [];\n            $checkboxes.each(function () {\n                if ($(this).checkbox('is checked')) {\n                    ids.push($(this).data('id'));\n                }\n            });\n            $.post($this.data('link'), {\n                \"_csrf\": csrf,\n                \"ids\": ids\n            }).done(function () {\n                window.location.href = $this.data('redirect');\n            });\n        });\n    }\n}\n\nfunction buttonsClickOnEnter() {\n    $('.ui.button').keypress(function (e) {\n        if (e.keyCode == 13 || e.keyCode == 32) // enter key or space bar\n            $(this).click();\n    });\n}\n\nfunction searchUsers() {\n    const $searchUserBox = $('#search-user-box');\n    $searchUserBox.search({\n        minCharacters: 2,\n        apiSettings: {\n            url: suburl + '/api/v1/users/search?q={query}',\n            onResponse: function(response) {\n                const items = [];\n                $.each(response.data, function (_i, item) {\n                    let title = item.login;\n                    if (item.full_name && item.full_name.length > 0) {\n                        title += ' (' + htmlEncode(item.full_name) + ')';\n                    }\n                    items.push({\n                        title: title,\n                        image: item.avatar_url\n                    })\n                });\n\n                return { results: items }\n            }\n        },\n        searchFields: ['login', 'full_name'],\n        showNoResults: false\n    });\n}\n\nfunction searchTeams() {\n    const $searchTeamBox = $('#search-team-box');\n    $searchTeamBox.search({\n        minCharacters: 2,\n        apiSettings: {\n            url: suburl + '/api/v1/orgs/' + $searchTeamBox.data('org') + '/teams/search?q={query}',\n            headers: {\"X-Csrf-Token\": csrf},\n            onResponse: function(response) {\n                const items = [];\n                $.each(response.data, function (_i, item) {\n                    const title = item.name + ' (' + item.permission + ' access)';\n                    items.push({\n                        title: title,\n                    })\n                });\n\n                return { results: items }\n            }\n        },\n        searchFields: ['name', 'description'],\n        showNoResults: false\n    });\n}\n\nfunction searchRepositories() {\n    const $searchRepoBox = $('#search-repo-box');\n    $searchRepoBox.search({\n        minCharacters: 2,\n        apiSettings: {\n            url: suburl + '/api/v1/repos/search?q={query}&uid=' + $searchRepoBox.data('uid'),\n            onResponse: function(response) {\n                const items = [];\n                $.each(response.data, function (_i, item) {\n                    items.push({\n                        title: item.full_name.split(\"/\")[1],\n                        description: item.full_name\n                    })\n                });\n\n                return { results: items }\n            }\n        },\n        searchFields: ['full_name'],\n        showNoResults: false\n    });\n}\n\nfunction initCodeView() {\n    if ($('.code-view .linenums').length > 0) {\n        $(document).on('click', '.lines-num span', function (e) {\n            const $select = $(this);\n            const $list = $select.parent().siblings('.lines-code').find('ol.linenums > li');\n            selectRange($list, $list.filter('[rel=' + $select.attr('id') + ']'), (e.shiftKey ? $list.filter('.active').eq(0) : null));\n            deSelect();\n        });\n\n        $(window).on('hashchange', function () {\n            let m = window.location.hash.match(/^#(L\\d+)-(L\\d+)$/);\n            const $list = $('.code-view ol.linenums > li');\n            let $first;\n            if (m) {\n                $first = $list.filter('.' + m[1]);\n                selectRange($list, $first, $list.filter('.' + m[2]));\n                $(\"html, body\").scrollTop($first.offset().top - 200);\n                return;\n            }\n            m = window.location.hash.match(/^#(L|n)(\\d+)$/);\n            if (m) {\n                $first = $list.filter('.L' + m[2]);\n                selectRange($list, $first);\n                $(\"html, body\").scrollTop($first.offset().top - 200);\n            }\n        }).trigger('hashchange');\n    }\n}\n\nfunction initU2FAuth() {\n    if($('#wait-for-key').length === 0) {\n        return\n    }\n    u2fApi.ensureSupport()\n        .then(function () {\n            $.getJSON(suburl + '/user/u2f/challenge').success(function(req) {\n                u2fApi.sign(req.appId, req.challenge, req.registeredKeys, 30)\n                    .then(u2fSigned)\n                    .catch(function (err) {\n                        if(err === undefined) {\n                            u2fError(1);\n                            return\n                        }\n                        u2fError(err.metaData.code);\n                    });\n            });\n        }).catch(function () {\n            // Fallback in case browser do not support U2F\n            window.location.href = suburl + \"/user/two_factor\"\n        })\n}\nfunction u2fSigned(resp) {\n    $.ajax({\n        url: suburl + '/user/u2f/sign',\n        type: \"POST\",\n        headers: {\"X-Csrf-Token\": csrf},\n        data: JSON.stringify(resp),\n        contentType: \"application/json; charset=utf-8\",\n    }).done(function(res){\n        window.location.replace(res);\n    }).fail(function () {\n        u2fError(1);\n    });\n}\n\nfunction u2fRegistered(resp) {\n    if (checkError(resp)) {\n        return;\n    }\n    $.ajax({\n        url: suburl + '/user/settings/security/u2f/register',\n        type: \"POST\",\n        headers: {\"X-Csrf-Token\": csrf},\n        data: JSON.stringify(resp),\n        contentType: \"application/json; charset=utf-8\",\n        success: function(){\n            reload();\n        },\n        fail: function () {\n            u2fError(1);\n        }\n    });\n}\n\nfunction checkError(resp) {\n    if (!('errorCode' in resp)) {\n        return false;\n    }\n    if (resp.errorCode === 0) {\n        return false;\n    }\n    u2fError(resp.errorCode);\n    return true;\n}\n\n\nfunction u2fError(errorType) {\n    const u2fErrors = {\n        'browser': $('#unsupported-browser'),\n        1: $('#u2f-error-1'),\n        2: $('#u2f-error-2'),\n        3: $('#u2f-error-3'),\n        4: $('#u2f-error-4'),\n        5: $('.u2f-error-5')\n    };\n    u2fErrors[errorType].removeClass('hide');\n    for(const type in u2fErrors){\n        if(type != errorType){\n            u2fErrors[type].addClass('hide');\n        }\n    }\n    $('#u2f-error').modal('show');\n}\n\nfunction initU2FRegister() {\n    $('#register-device').modal({allowMultiple: false});\n    $('#u2f-error').modal({allowMultiple: false});\n    $('#register-security-key').on('click', function(e) {\n        e.preventDefault();\n        u2fApi.ensureSupport()\n            .then(u2fRegisterRequest)\n            .catch(function() {\n                u2fError('browser');\n            })\n    })\n}\n\nfunction u2fRegisterRequest() {\n    $.post(suburl + \"/user/settings/security/u2f/request_register\", {\n        \"_csrf\": csrf,\n        \"name\": $('#nickname').val()\n    }).success(function(req) {\n        $(\"#nickname\").closest(\"div.field\").removeClass(\"error\");\n        $('#register-device').modal('show');\n        if(req.registeredKeys === null) {\n            req.registeredKeys = []\n        }\n        u2fApi.register(req.appId, req.registerRequests, req.registeredKeys, 30)\n            .then(u2fRegistered)\n            .catch(function (reason) {\n                if(reason === undefined) {\n                    u2fError(1);\n                    return\n                }\n                u2fError(reason.metaData.code);\n            });\n    }).fail(function(xhr) {\n        if(xhr.status === 409) {\n            $(\"#nickname\").closest(\"div.field\").addClass(\"error\");\n        }\n    });\n}\n\nfunction initWipTitle() {\n    $(\".title_wip_desc > a\").click(function (e) {\n        e.preventDefault();\n\n        const $issueTitle = $(\"#issue_title\");\n        $issueTitle.focus();\n        const value = $issueTitle.val().trim().toUpperCase();\n\n        for (const i in wipPrefixes) {\n            if (value.startsWith(wipPrefixes[i].toUpperCase())) {\n                return;\n            }\n        }\n\n        $issueTitle.val(wipPrefixes[0] + \" \" + $issueTitle.val());\n    });\n}\n\nfunction initTemplateSearch() {\n    const $repoTemplate = $(\"#repo_template\");\n    const checkTemplate = function() {\n        const $templateUnits = $(\"#template_units\");\n        const $nonTemplate = $(\"#non_template\");\n        if ($repoTemplate.val() !== \"\") {\n            $templateUnits.show();\n            $nonTemplate.hide();\n        } else {\n            $templateUnits.hide();\n            $nonTemplate.show();\n        }\n    };\n    $repoTemplate.change(checkTemplate);\n    checkTemplate();\n\n    const changeOwner = function() {\n        $(\"#repo_template_search\")\n            .dropdown({\n                apiSettings: {\n                    url: suburl + '/api/v1/repos/search?q={query}&template=true&priority_owner_id=' + $(\"#uid\").val(),\n                    onResponse: function(response) {\n                        const filteredResponse = {'success': true, 'results': []};\n                        filteredResponse.results.push({\n                            'name': '',\n                            'value': ''\n                        });\n                        // Parse the response from the api to work with our dropdown\n                        $.each(response.data, function(_r, repo) {\n                            filteredResponse.results.push({\n                                'name'  : htmlEncode(repo.full_name) ,\n                                'value' : repo.id\n                            });\n                        });\n                        return filteredResponse;\n                    },\n                    cache: false,\n                },\n\n                fullTextSearch: true\n            });\n    };\n    $(\"#uid\").change(changeOwner);\n    changeOwner();\n}\n\n$(document).ready(function () {\n    csrf = $('meta[name=_csrf]').attr(\"content\");\n    suburl = $('meta[name=_suburl]').attr(\"content\");\n\n    // Show exact time\n    $('.time-since').each(function () {\n        $(this).addClass('poping up').attr('data-content', $(this).attr('title')).attr('data-variation', 'inverted tiny').attr('title', '');\n    });\n\n    // Semantic UI modules.\n    $('.dropdown:not(.custom)').dropdown();\n    $('.jump.dropdown').dropdown({\n        action: 'hide',\n        onShow: function () {\n            $('.poping.up').popup('hide');\n        }\n    });\n    $('.slide.up.dropdown').dropdown({\n        transition: 'slide up'\n    });\n    $('.upward.dropdown').dropdown({\n        direction: 'upward'\n    });\n    $('.ui.accordion').accordion();\n    $('.ui.checkbox').checkbox();\n    $('.ui.progress').progress({\n        showActivity: false\n    });\n    $('.poping.up').popup();\n    $('.top.menu .poping.up').popup({\n        onShow: function () {\n            if ($('.top.menu .menu.transition').hasClass('visible')) {\n                return false;\n            }\n        }\n    });\n    $('.tabular.menu .item').tab();\n    $('.tabable.menu .item').tab();\n\n    $('.toggle.button').click(function () {\n        $($(this).data('target')).slideToggle(100);\n    });\n\n    // make table <tr> element clickable like a link\n    $('tr[data-href]').click(function() {\n        window.location = $(this).data('href');\n    });\n\n    // Highlight JS\n    if (typeof hljs != 'undefined') {\n        const nodes = [].slice.call(document.querySelectorAll('pre code') || []);\n        for (let i = 0; i < nodes.length; i++) {\n            hljs.highlightBlock(nodes[i]);\n        }\n    }\n\n    // Dropzone\n    const $dropzone = $('#dropzone');\n    if ($dropzone.length > 0) {\n        const filenameDict = {};\n\n        new Dropzone(\"#dropzone\", {\n            url: $dropzone.data('upload-url'),\n            headers: {\"X-Csrf-Token\": csrf},\n            maxFiles: $dropzone.data('max-file'),\n            maxFilesize: $dropzone.data('max-size'),\n            acceptedFiles: ($dropzone.data('accepts') === '*/*') ? null : $dropzone.data('accepts'),\n            addRemoveLinks: true,\n            dictDefaultMessage: $dropzone.data('default-message'),\n            dictInvalidFileType: $dropzone.data('invalid-input-type'),\n            dictFileTooBig: $dropzone.data('file-too-big'),\n            dictRemoveFile: $dropzone.data('remove-file'),\n            init: function () {\n                this.on(\"success\", function (file, data) {\n                    filenameDict[file.name] = data.uuid;\n                    const input = $('<input id=\"' + data.uuid + '\" name=\"files\" type=\"hidden\">').val(data.uuid);\n                    $('.files').append(input);\n                });\n                this.on(\"removedfile\", function (file) {\n                    if (file.name in filenameDict) {\n                        $('#' + filenameDict[file.name]).remove();\n                    }\n                    if ($dropzone.data('remove-url') && $dropzone.data('csrf')) {\n                        $.post($dropzone.data('remove-url'), {\n                            file: filenameDict[file.name],\n                            _csrf: $dropzone.data('csrf')\n                        });\n                    }\n                })\n            },\n        });\n    }\n\n    // Emojify\n    emojify.setConfig({\n        img_dir: suburl + '/vendor/plugins/emojify/images',\n        ignore_emoticons: true\n    });\n    const hasEmoji = document.getElementsByClassName('has-emoji');\n    for (let i = 0; i < hasEmoji.length; i++) {\n        emojify.run(hasEmoji[i]);\n        for (let j = 0; j < hasEmoji[i].childNodes.length; j++) {\n            if (hasEmoji[i].childNodes[j].nodeName === \"A\") {\n                emojify.run(hasEmoji[i].childNodes[j])\n            }\n        }\n    }\n\n    // Clipboard JS\n    const clipboard = new Clipboard('.clipboard');\n    clipboard.on('success', function (e) {\n        e.clearSelection();\n\n        $('#' + e.trigger.getAttribute('id')).popup('destroy');\n        e.trigger.setAttribute('data-content', e.trigger.getAttribute('data-success'))\n        $('#' + e.trigger.getAttribute('id')).popup('show');\n        e.trigger.setAttribute('data-content', e.trigger.getAttribute('data-original'))\n    });\n\n    clipboard.on('error', function (e) {\n        $('#' + e.trigger.getAttribute('id')).popup('destroy');\n        e.trigger.setAttribute('data-content', e.trigger.getAttribute('data-error'))\n        $('#' + e.trigger.getAttribute('id')).popup('show');\n        e.trigger.setAttribute('data-content', e.trigger.getAttribute('data-original'))\n    });\n\n    // Helpers.\n    $('.delete-button').click(showDeletePopup);\n    $('.add-all-button').click(showAddAllPopup);\n\n    $('.delete-branch-button').click(showDeletePopup);\n\n    $('.undo-button').click(function() {\n        const $this = $(this);\n        $.post($this.data('url'), {\n            \"_csrf\": csrf,\n            \"id\": $this.data(\"id\")\n        }).done(function(data) {\n            window.location.href = data.redirect;\n        });\n    });\n    $('.show-panel.button').click(function () {\n        $($(this).data('panel')).show();\n    });\n    $('.show-modal.button').click(function () {\n        $($(this).data('modal')).modal('show');\n    });\n    $('.delete-post.button').click(function () {\n        const $this = $(this);\n        $.post($this.data('request-url'), {\n            \"_csrf\": csrf\n        }).done(function () {\n            window.location.href = $this.data('done-url');\n        });\n    });\n\n    // Set anchor.\n    $('.markdown').each(function () {\n        const headers = {};\n        $(this).find('h1, h2, h3, h4, h5, h6').each(function () {\n            let node = $(this);\n            const val = encodeURIComponent(node.text().toLowerCase().replace(/[^\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w\\- ]/g, '').replace(/[ ]/g, '-'));\n            let name = val;\n            if (headers[val] > 0) {\n                name = val + '-' + headers[val];\n            }\n            if (headers[val] == undefined) {\n                headers[val] = 1;\n            } else {\n                headers[val] += 1;\n            }\n            node = node.wrap('<div id=\"' + name + '\" class=\"anchor-wrap\" ></div>');\n            node.append('<a class=\"anchor\" href=\"#' + name + '\"><span class=\"octicon octicon-link\"></span></a>');\n        });\n    });\n\n    $('.issue-checkbox').click(function() {\n        const numChecked = $('.issue-checkbox').children('input:checked').length;\n        if (numChecked > 0) {\n            $('#issue-filters').addClass(\"hide\");\n            $('#issue-actions').removeClass(\"hide\");\n        } else {\n            $('#issue-filters').removeClass(\"hide\");\n            $('#issue-actions').addClass(\"hide\");\n        }\n    });\n\n    $('.issue-action').click(function () {\n        let action = this.dataset.action;\n        let elementId = this.dataset.elementId;\n        const issueIDs = $('.issue-checkbox').children('input:checked').map(function() {\n            return this.dataset.issueId;\n        }).get().join();\n        const url = this.dataset.url;\n        if (elementId === '0' && url.substr(-9) === '/assignee'){\n            elementId = '';\n            action = 'clear';\n        }\n        updateIssuesMeta(url, action, issueIDs, elementId).then(function() {\n            // NOTICE: This reset of checkbox state targets Firefox caching behaviour, as the checkboxes stay checked after reload\n            if (action === \"close\" || action === \"open\" ){\n                //uncheck all checkboxes\n                $('.issue-checkbox input[type=\"checkbox\"]').each(function(_,e){ e.checked = false; });\n            }\n            reload();\n        });\n    });\n\n    // NOTICE: This event trigger targets Firefox caching behaviour, as the checkboxes stay checked after reload\n    // trigger ckecked event, if checkboxes are checked on load\n    $('.issue-checkbox input[type=\"checkbox\"]:checked').first().each(function(_,e) {\n        e.checked = false;\n        $(e).click();\n    });\n\n    buttonsClickOnEnter();\n    searchUsers();\n    searchTeams();\n    searchRepositories();\n\n    initCommentForm();\n    initInstall();\n    initRepository();\n    initMigration();\n    initWikiForm();\n    initEditForm();\n    initEditor();\n    initOrganization();\n    initWebhook();\n    initAdmin();\n    initCodeView();\n    initVueApp();\n    initTeamSettings();\n    initCtrlEnterSubmit();\n    initNavbarContentToggle();\n    initTopicbar();\n    initU2FAuth();\n    initU2FRegister();\n    initIssueList();\n    initWipTitle();\n    initPullRequestReview();\n    initRepoStatusChecker();\n    initTemplateSearch();\n\n    // Repo clone url.\n    if ($('#repo-clone-url').length > 0) {\n        switch (localStorage.getItem('repo-clone-protocol')) {\n            case 'ssh':\n                if ($('#repo-clone-ssh').click().length === 0) {\n                    $('#repo-clone-https').click();\n                }\n                break;\n            default:\n                $('#repo-clone-https').click();\n                break;\n        }\n    }\n\n    const routes = {\n        'div.user.settings': initUserSettings,\n        'div.repository.settings.collaboration': initRepositoryCollaboration\n    };\n\n    let selector;\n    for (selector in routes) {\n        if ($(selector).length > 0) {\n            routes[selector]();\n            break;\n        }\n    }\n\n    const $cloneAddr = $('#clone_addr');\n    $cloneAddr.change(function() {\n        const $repoName = $('#repo_name');\n        if ($cloneAddr.val().length > 0 && $repoName.val().length === 0) { // Only modify if repo_name input is blank\n            $repoName.val($cloneAddr.val().match(/^(.*\\/)?((.+?)(\\.git)?)$/)[3]);\n        }\n    });\n});\n\nfunction changeHash(hash) {\n    if (history.pushState) {\n        history.pushState(null, null, hash);\n    }\n    else {\n        location.hash = hash;\n    }\n}\n\nfunction deSelect() {\n    if (window.getSelection) {\n        window.getSelection().removeAllRanges();\n    } else {\n        document.selection.empty();\n    }\n}\n\nfunction selectRange($list, $select, $from) {\n    $list.removeClass('active');\n    if ($from) {\n        let a = parseInt($select.attr('rel').substr(1));\n        let b = parseInt($from.attr('rel').substr(1));\n        let c;\n        if (a != b) {\n            if (a > b) {\n                c = a;\n                a = b;\n                b = c;\n            }\n            const classes = [];\n            for (let i = a; i <= b; i++) {\n                classes.push('.L' + i);\n            }\n            $list.filter(classes.join(',')).addClass('active');\n            changeHash('#L' + a + '-' + 'L' + b);\n            return\n        }\n    }\n    $select.addClass('active');\n    changeHash('#' + $select.attr('rel'));\n}\n\n$(function () {\n    // Warn users that try to leave a page after entering data into a form.\n    // Except on sign-in pages, and for forms marked as 'ignore-dirty'.\n    if ($('.user.signin').length === 0) {\n      $('form:not(.ignore-dirty)').areYouSure();\n    }\n\n    // Parse SSH Key\n    $(\"#ssh-key-content\").on('change paste keyup',function(){\n        const arrays = $(this).val().split(\" \");\n        const $title = $(\"#ssh-key-title\")\n        if ($title.val() === \"\" && arrays.length === 3 && arrays[2] !== \"\") {\n            $title.val(arrays[2]);\n        }\n    });\n});\n\nfunction showDeletePopup() {\n    const $this = $(this);\n    let filter = \"\";\n    if ($this.attr(\"id\")) {\n        filter += \"#\" + $this.attr(\"id\")\n    }\n\n    const dialog = $('.delete.modal' + filter);\n    dialog.find('.name').text($this.data('name'));\n\n    dialog.modal({\n        closable: false,\n        onApprove: function() {\n            if ($this.data('type') == \"form\") {\n                $($this.data('form')).submit();\n                return;\n            }\n\n            $.post($this.data('url'), {\n                \"_csrf\": csrf,\n                \"id\": $this.data(\"id\")\n            }).done(function(data) {\n                window.location.href = data.redirect;\n            });\n        }\n    }).modal('show');\n    return false;\n}\n\nfunction showAddAllPopup() {\n    const $this = $(this);\n    let filter = \"\";\n    if ($this.attr(\"id\")) {\n        filter += \"#\" + $this.attr(\"id\")\n    }\n\n    const dialog = $('.addall.modal' + filter);\n    dialog.find('.name').text($this.data('name'));\n\n    dialog.modal({\n        closable: false,\n        onApprove: function() {\n            if ($this.data('type') == \"form\") {\n                $($this.data('form')).submit();\n                return;\n            }\n\n            $.post($this.data('url'), {\n                \"_csrf\": csrf,\n                \"id\": $this.data(\"id\")\n            }).done(function(data) {\n                window.location.href = data.redirect;\n            });\n        }\n    }).modal('show');\n    return false;\n}\n\nfunction initVueComponents(){\n    const vueDelimeters = ['${', '}'];\n\n    Vue.component('repo-search', {\n        delimiters: vueDelimeters,\n\n        props: {\n            searchLimit: {\n                type: Number,\n                default: 10\n            },\n            suburl: {\n                type: String,\n                required: true\n            },\n            uid: {\n                type: Number,\n                required: true\n            },\n            organizations: {\n                type: Array,\n                default: []\n            },\n            isOrganization: {\n                type: Boolean,\n                default: true\n            },\n            canCreateOrganization: {\n                type: Boolean,\n                default: false\n            },\n            organizationsTotalCount: {\n                type: Number,\n                default: 0\n            },\n            moreReposLink: {\n                type: String,\n                default: ''\n            }\n        },\n\n        data: function() {\n            return {\n                tab: 'repos',\n                repos: [],\n                reposTotalCount: 0,\n                reposFilter: 'all',\n                searchQuery: '',\n                isLoading: false,\n                repoTypes: {\n                    'all': {\n                        count: 0,\n                        searchMode: '',\n                    },\n                    'forks': {\n                        count: 0,\n                        searchMode: 'fork',\n                    },\n                    'mirrors': {\n                        count: 0,\n                        searchMode: 'mirror',\n                    },\n                    'sources': {\n                        count: 0,\n                        searchMode: 'source',\n                    },\n                    'collaborative': {\n                        count: 0,\n                        searchMode: 'collaborative',\n                    },\n                }\n            }\n        },\n\n        computed: {\n            showMoreReposLink: function() {\n                return this.repos.length > 0 && this.repos.length < this.repoTypes[this.reposFilter].count;\n            },\n            searchURL: function() {\n                return this.suburl + '/api/v1/repos/search?sort=updated&order=desc&uid=' + this.uid + '&q=' + this.searchQuery\n                                   + '&limit=' + this.searchLimit + '&mode=' + this.repoTypes[this.reposFilter].searchMode\n                                   + (this.reposFilter !== 'all' ? '&exclusive=1' : '');\n            },\n            repoTypeCount: function() {\n                return this.repoTypes[this.reposFilter].count;\n            }\n        },\n\n        mounted: function() {\n            this.searchRepos(this.reposFilter);\n\n            const self = this;\n            Vue.nextTick(function() {\n                self.$refs.search.focus();\n            });\n        },\n\n        methods: {\n            changeTab: function(t) {\n                this.tab = t;\n            },\n\n            changeReposFilter: function(filter) {\n                this.reposFilter = filter;\n                this.repos = [];\n                this.repoTypes[filter].count = 0;\n                this.searchRepos(filter);\n            },\n\n            showRepo: function(repo, filter) {\n                switch (filter) {\n                    case 'sources':\n                        return repo.owner.id == this.uid && !repo.mirror && !repo.fork;\n                    case 'forks':\n                        return repo.owner.id == this.uid && !repo.mirror && repo.fork;\n                    case 'mirrors':\n                        return repo.mirror;\n                    case 'collaborative':\n                        return repo.owner.id != this.uid && !repo.mirror;\n                    default:\n                        return true;\n                }\n            },\n\n            searchRepos: function(reposFilter) {\n                const self = this;\n\n                this.isLoading = true;\n\n                const searchedMode = this.repoTypes[reposFilter].searchMode;\n                const searchedURL = this.searchURL;\n                const searchedQuery = this.searchQuery;\n\n                $.getJSON(searchedURL, function(result, _textStatus, request) {\n                    if (searchedURL == self.searchURL) {\n                        self.repos = result.data;\n                        const count = request.getResponseHeader('X-Total-Count');\n                        if (searchedQuery === '' && searchedMode === '') {\n                            self.reposTotalCount = count;\n                        }\n                        self.repoTypes[reposFilter].count = count;\n                    }\n                }).always(function() {\n                    if (searchedURL == self.searchURL) {\n                        self.isLoading = false;\n                    }\n                });\n            },\n\n            repoClass: function(repo) {\n                if (repo.fork) {\n                    return 'octicon octicon-repo-forked';\n                } else if (repo.mirror) {\n                    return 'octicon octicon-repo-clone';\n                } else if (repo.private) {\n                    return 'octicon octicon-lock';\n                } else {\n                    return 'octicon octicon-repo';\n                }\n            }\n        }\n    })\n}\n\nfunction initCtrlEnterSubmit() {\n    $(\".js-quick-submit\").keydown(function(e) {\n        if (((e.ctrlKey && !e.altKey) || e.metaKey) && (e.keyCode == 13 || e.keyCode == 10)) {\n            $(this).closest(\"form\").submit();\n        }\n    });\n}\n\nfunction initVueApp() {\n    const el = document.getElementById('app');\n    if (!el) {\n        return;\n    }\n\n    initVueComponents();\n\n    new Vue({\n        delimiters: ['${', '}'],\n        el: el,\n\n        data: {\n            searchLimit: document.querySelector('meta[name=_search_limit]').content,\n            suburl: document.querySelector('meta[name=_suburl]').content,\n            uid: document.querySelector('meta[name=_context_uid]').content,\n        },\n    });\n}\n\nfunction timeAddManual() {\n    $('.mini.modal')\n        .modal({\n            duration: 200,\n            onApprove: function() {\n                $('#add_time_manual_form').submit();\n            }\n        }).modal('show')\n    ;\n}\n\nfunction toggleStopwatch() {\n    $(\"#toggle_stopwatch_form\").submit();\n}\nfunction cancelStopwatch() {\n    $(\"#cancel_stopwatch_form\").submit();\n}\n\nfunction initHeatmap(appElementId, heatmapUser, locale) {\n    const el = document.getElementById(appElementId);\n    if (!el) {\n        return;\n    }\n\n    locale = locale || {};\n\n    locale.contributions = locale.contributions || 'contributions';\n    locale.no_contributions = locale.no_contributions || 'No contributions';\n\n    const vueDelimeters = ['${', '}'];\n\n    Vue.component('activity-heatmap', {\n        delimiters: vueDelimeters,\n\n        props: {\n            user: {\n                type: String,\n                required: true\n            },\n            suburl: {\n                type: String,\n                required: true\n            },\n            locale: {\n                type: Object,\n                required: true\n            }\n        },\n\n        data: function () {\n            return {\n                isLoading: true,\n                colorRange: [],\n                endDate: null,\n                values: [],\n                totalContributions: 0,\n            };\n        },\n\n        mounted: function() {\n            this.colorRange = [\n                this.getColor(0),\n                this.getColor(1),\n                this.getColor(2),\n                this.getColor(3),\n                this.getColor(4),\n                this.getColor(5)\n            ];\n            this.endDate = new Date();\n            this.loadHeatmap(this.user);\n        },\n\n        methods: {\n            loadHeatmap: function(userName) {\n                const self = this;\n                $.get(this.suburl + '/api/v1/users/' + userName + '/heatmap', function(chartRawData) {\n                    const chartData = [];\n                    for (let i = 0; i < chartRawData.length; i++) {\n                        self.totalContributions += chartRawData[i].contributions;\n                        chartData[i] = { date: new Date(chartRawData[i].timestamp * 1000), count: chartRawData[i].contributions };\n                    }\n                    self.values = chartData;\n                    self.isLoading = false;\n                });\n            },\n\n            getColor: function(idx) {\n                const el = document.createElement('div');\n                el.className = 'heatmap-color-' + idx;\n                document.body.appendChild(el);\n\n                const color = getComputedStyle(el).backgroundColor;\n\n                document.body.removeChild(el);\n\n                return color;\n            }\n        },\n\n        template: '<div><div v-show=\"isLoading\"><slot name=\"loading\"></slot></div><h4 class=\"total-contributions\" v-if=\"!isLoading\"><span v-html=\"totalContributions\"></span> total contributions in the last 12 months</h4><calendar-heatmap v-show=\"!isLoading\" :locale=\"locale\" :no-data-text=\"locale.no_contributions\" :tooltip-unit=\"locale.contributions\" :end-date=\"endDate\" :values=\"values\" :range-color=\"colorRange\" />'\n    });\n\n    new Vue({\n        delimiters: vueDelimeters,\n        el: el,\n\n        data: {\n            suburl: document.querySelector('meta[name=_suburl]').content,\n            heatmapUser: heatmapUser,\n            locale: locale\n        },\n    });\n}\n\nfunction initFilterBranchTagDropdown(selector) {\n    $(selector).each(function() {\n        const $dropdown = $(this);\n        const $data = $dropdown.find('.data');\n        const data = {\n            items: [],\n            mode: $data.data('mode'),\n            searchTerm: '',\n            noResults: '',\n            canCreateBranch: false,\n            menuVisible: false,\n            active: 0\n        };\n        $data.find('.item').each(function() {\n            data.items.push({\n                name: $(this).text(),\n                url: $(this).data('url'),\n                branch: $(this).hasClass('branch'),\n                tag: $(this).hasClass('tag'),\n                selected: $(this).hasClass('selected')\n            });\n        });\n        $data.remove();\n        new Vue({\n            delimiters: ['${', '}'],\n            el: this,\n            data: data,\n\n            beforeMount: function () {\n                const vm = this;\n\n                this.noResults = vm.$el.getAttribute('data-no-results');\n                this.canCreateBranch = vm.$el.getAttribute('data-can-create-branch') === 'true';\n\n                document.body.addEventListener('click', function(event) {\n                    if (vm.$el.contains(event.target)) {\n                        return;\n                    }\n                    if (vm.menuVisible) {\n                        Vue.set(vm, 'menuVisible', false);\n                    }\n                });\n            },\n\n            watch: {\n                menuVisible: function(visible) {\n                    if (visible) {\n                        this.focusSearchField();\n                    }\n                }\n            },\n\n            computed: {\n                filteredItems: function() {\n                    const vm = this;\n\n                    const items = vm.items.filter(function (item) {\n                        return ((vm.mode === 'branches' && item.branch)\n                                || (vm.mode === 'tags' && item.tag))\n                            && (!vm.searchTerm\n                                || item.name.toLowerCase().indexOf(vm.searchTerm.toLowerCase()) >= 0);\n                    });\n\n                    vm.active = (items.length === 0 && vm.showCreateNewBranch ? 0 : -1);\n\n                    return items;\n                },\n                showNoResults: function() {\n                    return this.filteredItems.length === 0\n                            && !this.showCreateNewBranch;\n                },\n                showCreateNewBranch: function() {\n                    const vm = this;\n                    if (!this.canCreateBranch || !vm.searchTerm || vm.mode === 'tags') {\n                        return false;\n                    }\n\n                    return vm.items.filter(function (item) {\n                        return item.name.toLowerCase() === vm.searchTerm.toLowerCase()\n                    }).length === 0;\n                }\n            },\n\n            methods: {\n                selectItem: function(item) {\n                    const prev = this.getSelected();\n                    if (prev !== null) {\n                        prev.selected = false;\n                    }\n                    item.selected = true;\n                    window.location.href = item.url;\n                },\n                createNewBranch: function() {\n                    if (!this.showCreateNewBranch) {\n                        return;\n                    }\n                    this.$refs.newBranchForm.submit();\n                },\n                focusSearchField: function() {\n                    const vm = this;\n                    Vue.nextTick(function() {\n                        vm.$refs.searchField.focus();\n                    });\n                },\n                getSelected: function() {\n                    for (let i = 0, j = this.items.length; i < j; ++i) {\n                        if (this.items[i].selected)\n                            return this.items[i];\n                    }\n                    return null;\n                },\n                getSelectedIndexInFiltered: function() {\n                    for (let i = 0, j = this.filteredItems.length; i < j; ++i) {\n                        if (this.filteredItems[i].selected)\n                            return i;\n                    }\n                    return -1;\n                },\n                scrollToActive: function() {\n                    let el = this.$refs['listItem' + this.active];\n                    if (!el || el.length === 0) {\n                        return;\n                    }\n                    if (Array.isArray(el)) {\n                        el = el[0];\n                    }\n\n                    const cont = this.$refs.scrollContainer;\n\n                     if (el.offsetTop < cont.scrollTop) {\n                         cont.scrollTop = el.offsetTop;\n                     }\n                     else if (el.offsetTop + el.clientHeight > cont.scrollTop + cont.clientHeight) {\n                        cont.scrollTop = el.offsetTop + el.clientHeight - cont.clientHeight;\n                    }\n                },\n                keydown: function(event) {\n                    const vm = this;\n                    if (event.keyCode === 40) {\n                        // arrow down\n                        event.preventDefault();\n\n                        if (vm.active === -1) {\n                            vm.active = vm.getSelectedIndexInFiltered();\n                        }\n\n                        if (vm.active + (vm.showCreateNewBranch ? 0 : 1) >= vm.filteredItems.length) {\n                            return;\n                        }\n                        vm.active++;\n                        vm.scrollToActive();\n                    }\n                    if (event.keyCode === 38) {\n                        // arrow up\n                        event.preventDefault();\n\n                         if (vm.active === -1) {\n                            vm.active = vm.getSelectedIndexInFiltered();\n                        }\n\n                         if (vm.active <= 0) {\n                            return;\n                        }\n                        vm.active--;\n                        vm.scrollToActive();\n                    }\n                    if (event.keyCode == 13) {\n                        // enter\n                        event.preventDefault();\n\n                         if (vm.active >= vm.filteredItems.length) {\n                            vm.createNewBranch();\n                        } else if (vm.active >= 0) {\n                            vm.selectItem(vm.filteredItems[vm.active]);\n                        }\n                    }\n                    if (event.keyCode == 27) {\n                        // escape\n                        event.preventDefault();\n                        vm.menuVisible = false;\n                    }\n                }\n            }\n        });\n    });\n}\n\n$(\".commit-button\").click(function(e) {\n    e.preventDefault();\n    $(this).parent().find('.commit-body').toggle();\n});\n\nfunction initNavbarContentToggle() {\n    const content = $('#navbar');\n    const toggle = $('#navbar-expand-toggle');\n    let isExpanded = false;\n    toggle.click(function() {\n        isExpanded = !isExpanded;\n        if (isExpanded) {\n            content.addClass('shown');\n            toggle.addClass('active');\n        }\n        else {\n            content.removeClass('shown');\n            toggle.removeClass('active');\n        }\n    });\n}\n\nfunction initTopicbar() {\n    const mgrBtn = $(\"#manage_topic\");\n    const editDiv = $(\"#topic_edit\");\n    const viewDiv = $(\"#repo-topics\");\n    const saveBtn = $(\"#save_topic\");\n    const topicDropdown = $('#topic_edit .dropdown');\n    const topicForm = $('#topic_edit.ui.form');\n    const topicPrompts = getPrompts();\n\n    mgrBtn.click(function() {\n        viewDiv.hide();\n        editDiv.css('display', ''); // show Semantic UI Grid\n    });\n\n    function getPrompts() {\n        const hidePrompt = $(\"div.hide#validate_prompt\"),\n            prompts = {\n                countPrompt: hidePrompt.children('#count_prompt').text(),\n                formatPrompt: hidePrompt.children('#format_prompt').text()\n            };\n        hidePrompt.remove();\n        return prompts;\n    }\n\n    saveBtn.click(function() {\n        const topics = $(\"input[name=topics]\").val();\n\n        $.post(saveBtn.data('link'), {\n            \"_csrf\": csrf,\n            \"topics\": topics\n        }, function(_data, _textStatus, xhr){\n            if (xhr.responseJSON.status === 'ok') {\n                viewDiv.children(\".topic\").remove();\n                if (topics.length) {\n                    const topicArray = topics.split(\",\");\n\n                    const last = viewDiv.children(\"a\").last();\n                    for (let i=0; i < topicArray.length; i++) {\n                        $('<div class=\"ui small label topic\" style=\"cursor:pointer;\">'+topicArray[i]+'</div>').insertBefore(last)\n                    }\n                }\n                editDiv.css('display', 'none');\n                viewDiv.show();\n            }\n        }).fail(function(xhr){\n            if (xhr.status === 422) {\n                if (xhr.responseJSON.invalidTopics.length > 0) {\n                    topicPrompts.formatPrompt = xhr.responseJSON.message;\n\n                    const invalidTopics = xhr.responseJSON.invalidTopics,\n                        topicLables = topicDropdown.children('a.ui.label');\n\n                    topics.split(',').forEach(function(value, index) {\n                        for (let i=0; i < invalidTopics.length; i++) {\n                            if (invalidTopics[i] === value) {\n                                topicLables.eq(index).removeClass(\"green\").addClass(\"red\");\n                            }\n                        }\n                    });\n                } else {\n                    topicPrompts.countPrompt = xhr.responseJSON.message;\n                }\n            }\n        }).always(function() {\n            topicForm.form('validate form');\n        });\n    });\n\n    topicDropdown.dropdown({\n        allowAdditions: true,\n        forceSelection: false,\n        fields: { name: \"description\", value: \"data-value\" },\n        saveRemoteData: false,\n        label: {\n            transition : 'horizontal flip',\n            duration   : 200,\n            variation  : false,\n            blue : true,\n            basic: true,\n        },\n        className: {\n            label: 'ui small label'\n        },\n        apiSettings: {\n            url: suburl + '/api/v1/topics/search?q={query}',\n            throttle: 500,\n            cache: false,\n            onResponse: function(res) {\n                const formattedResponse = {\n                    success: false,\n                    results: [],\n                };\n                const stripTags = function (text) {\n                    return text.replace(/<[^>]*>?/gm, \"\");\n                };\n\n                const query = stripTags(this.urlData.query.trim());\n                let found_query = false;\n                const current_topics = [];\n                topicDropdown.find('div.label.visible.topic,a.label.visible').each(function(_,e){ current_topics.push(e.dataset.value); });\n\n                if (res.topics) {\n                    let found = false;\n                    for (let i=0;i < res.topics.length;i++) {\n                        // skip currently added tags\n                        if (current_topics.indexOf(res.topics[i].topic_name) != -1){\n                            continue;\n                        }\n\n                        if (res.topics[i].topic_name.toLowerCase() === query.toLowerCase()){\n                            found_query = true;\n                        }\n                        formattedResponse.results.push({\"description\": res.topics[i].topic_name, \"data-value\": res.topics[i].topic_name});\n                        found = true;\n                    }\n                    formattedResponse.success = found;\n                }\n\n                if (query.length > 0 && !found_query){\n                    formattedResponse.success = true;\n                    formattedResponse.results.unshift({\"description\": query, \"data-value\": query});\n                } else if (query.length > 0 && found_query) {\n                    formattedResponse.results.sort(function(a, b){\n                        if (a.description.toLowerCase() === query.toLowerCase()) return -1;\n                        if (b.description.toLowerCase() === query.toLowerCase()) return 1;\n                        if (a.description > b.description) return -1;\n                        if (a.description < b.description) return 1;\n                        return 0;\n                    });\n                }\n\n\n                return formattedResponse;\n            },\n        },\n        onLabelCreate: function(value) {\n            value = value.toLowerCase().trim();\n            this.attr(\"data-value\", value).contents().first().replaceWith(value);\n            return $(this);\n        },\n        onAdd: function(addedValue, _addedText, $addedChoice) {\n            addedValue = addedValue.toLowerCase().trim();\n            $($addedChoice).attr('data-value', addedValue);\n            $($addedChoice).attr('data-text', addedValue);\n        }\n    });\n\n    $.fn.form.settings.rules.validateTopic = function(_values, regExp) {\n        const topics = topicDropdown.children('a.ui.label'),\n            status = topics.length === 0 || topics.last().attr(\"data-value\").match(regExp);\n        if (!status) {\n            topics.last().removeClass(\"green\").addClass(\"red\");\n        }\n        return status && topicDropdown.children('a.ui.label.red').length === 0;\n    };\n\n    topicForm.form({\n            on: 'change',\n            inline : true,\n            fields: {\n                topics: {\n                    identifier: 'topics',\n                    rules: [\n                        {\n                            type: 'validateTopic',\n                            value: /^[a-z0-9][a-z0-9-]{1,35}$/,\n                            prompt: topicPrompts.formatPrompt\n                        },\n                        {\n                            type: 'maxCount[25]',\n                            prompt: topicPrompts.countPrompt\n                        }\n                    ]\n                },\n            }\n        });\n}\nfunction toggleDeadlineForm() {\n    $('#deadlineForm').fadeToggle(150);\n}\n\nfunction setDeadline() {\n    const deadline = $('#deadlineDate').val();\n    updateDeadline(deadline);\n}\n\nfunction updateDeadline(deadlineString) {\n    $('#deadline-err-invalid-date').hide();\n    $('#deadline-loader').addClass('loading');\n\n    let realDeadline = null;\n    if (deadlineString !== '') {\n\n        const newDate = Date.parse(deadlineString)\n\n        if (isNaN(newDate)) {\n            $('#deadline-loader').removeClass('loading');\n            $('#deadline-err-invalid-date').show();\n            return false;\n        }\n        realDeadline = new Date(newDate);\n    }\n\n    $.ajax($('#update-issue-deadline-form').attr('action') + '/deadline', {\n        data: JSON.stringify({\n            'due_date': realDeadline,\n        }),\n        headers: {\n            'X-Csrf-Token': csrf,\n            'X-Remote': true,\n        },\n        contentType: 'application/json',\n        type: 'POST',\n        success: function () {\n            reload();\n        },\n        error: function () {\n            $('#deadline-loader').removeClass('loading');\n            $('#deadline-err-invalid-date').show();\n        }\n    });\n}\n\nfunction deleteDependencyModal(id, type) {\n    $('.remove-dependency')\n        .modal({\n            closable: false,\n            duration: 200,\n            onApprove: function () {\n                $('#removeDependencyID').val(id);\n                $('#dependencyType').val(type);\n                $('#removeDependencyForm').submit();\n            }\n        }).modal('show')\n    ;\n}\n\nfunction initIssueList() {\n    const repolink = $('#repolink').val();\n    const repoId = $('#repoId').val();\n    const crossRepoSearch = $('#crossRepoSearch').val();\n    let issueSearchUrl = suburl + '/api/v1/repos/' + repolink + '/issues?q={query}';\n    if (crossRepoSearch === 'true') {\n        issueSearchUrl = suburl + '/api/v1/repos/issues/search?q={query}&priority_repo_id=' + repoId;\n    }\n    $('#new-dependency-drop-list')\n        .dropdown({\n            apiSettings: {\n                url: issueSearchUrl,\n                onResponse: function(response) {\n                    const filteredResponse = {'success': true, 'results': []};\n                    const currIssueId = $('#new-dependency-drop-list').data('issue-id');\n                    // Parse the response from the api to work with our dropdown\n                    $.each(response, function(_i, issue) {\n                        // Don't list current issue in the dependency list.\n                        if(issue.id === currIssueId) {\n                            return;\n                        }\n                        filteredResponse.results.push({\n                            'name'  : '#' + issue.number + ' ' + htmlEncode(issue.title) +\n                                '<div class=\"text small dont-break-out\">' + htmlEncode(issue.repository.full_name) + '</div>',\n                            'value' : issue.id\n                        });\n                    });\n                    return filteredResponse;\n                },\n                cache: false,\n            },\n\n            fullTextSearch: true\n        });\n\n    $(\".menu a.label-filter-item\").each(function() {\n        $(this).click(function(e) {\n            if (e.altKey) {\n                e.preventDefault();\n\n                const href = $(this).attr(\"href\");\n                const id = $(this).data(\"label-id\");\n\n                const regStr = \"labels=(-?[0-9]+%2c)*(\" + id + \")(%2c-?[0-9]+)*&\";\n                const newStr = \"labels=$1-$2$3&\";\n\n                window.location = href.replace(new RegExp(regStr), newStr);\n            }\n        });\n    });\n\n    $(\".menu .ui.dropdown.label-filter\").keydown(function(e) {\n        if (e.altKey && e.keyCode == 13) {\n            const selectedItems = $(\".menu .ui.dropdown.label-filter .menu .item.selected\");\n\n            if (selectedItems.length > 0) {\n                const item = $(selectedItems[0]);\n\n                const href = item.attr(\"href\");\n                const id = item.data(\"label-id\");\n\n                const regStr = \"labels=(-?[0-9]+%2c)*(\" + id + \")(%2c-?[0-9]+)*&\";\n                const newStr = \"labels=$1-$2$3&\";\n\n                window.location = href.replace(new RegExp(regStr), newStr);\n            }\n        }\n    });\n}\nfunction cancelCodeComment(btn) {\n    const form = $(btn).closest(\"form\");\n    if(form.length > 0 && form.hasClass('comment-form')) {\n        form.addClass('hide');\n        form.parent().find('button.comment-form-reply').show();\n    } else {\n        form.closest('.comment-code-cloud').remove()\n    }\n}\nfunction onOAuthLoginClick() {\n    const oauthLoader = $('#oauth2-login-loader');\n    const oauthNav = $('#oauth2-login-navigator');\n\n    oauthNav.hide();\n    oauthLoader.removeClass('disabled');\n\n    setTimeout(function(){\n        // recover previous content to let user try again\n        // usually redirection will be performed before this action\n        oauthLoader.addClass('disabled');\n        oauthNav.show();\n    },5000);\n}\n"],"sourceRoot":""}